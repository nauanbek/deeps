============================= test session starts ==============================
platform darwin -- Python 3.13.3, pytest-8.3.4, pluggy-1.6.0 -- /Users/nooneelse/Desktop/deeps/backend/venv/bin/python3.13
cachedir: .pytest_cache
rootdir: /Users/nooneelse/Desktop/deeps/backend
configfile: pytest.ini
testpaths: tests
plugins: asyncio-0.24.0, langsmith-0.4.41, cov-6.0.0, anyio-4.11.0
asyncio: mode=Mode.AUTO, default_loop_scope=function
collecting ... collected 418 items / 6 errors

==================================== ERRORS ====================================
_____ ERROR collecting tests/test_deepagents_integration/test_backends.py ______
ImportError while importing test module '/Users/nooneelse/Desktop/deeps/backend/tests/test_deepagents_integration/test_backends.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:184: in exec_module
    exec(co, module.__dict__)
tests/test_deepagents_integration/test_backends.py:13: in <module>
    from deepagents_integration.backends import BackendManager
deepagents_integration/__init__.py:15: in <module>
    from .factory import AgentFactory, agent_factory
deepagents_integration/factory.py:13: in <module>
    from deepagents.backend import BackendProtocol
E   ModuleNotFoundError: No module named 'deepagents.backend'
______ ERROR collecting tests/test_deepagents_integration/test_factory.py ______
ImportError while importing test module '/Users/nooneelse/Desktop/deeps/backend/tests/test_deepagents_integration/test_factory.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:184: in exec_module
    exec(co, module.__dict__)
tests/test_deepagents_integration/test_factory.py:14: in <module>
    from deepagents_integration.factory import AgentFactory
deepagents_integration/__init__.py:15: in <module>
    from .factory import AgentFactory, agent_factory
deepagents_integration/factory.py:13: in <module>
    from deepagents.backend import BackendProtocol
E   ModuleNotFoundError: No module named 'deepagents.backend'
_ ERROR collecting tests/test_deepagents_integration/test_factory_advanced.py __
ImportError while importing test module '/Users/nooneelse/Desktop/deeps/backend/tests/test_deepagents_integration/test_factory_advanced.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:184: in exec_module
    exec(co, module.__dict__)
tests/test_deepagents_integration/test_factory_advanced.py:15: in <module>
    from deepagents_integration.factory import AgentFactory
deepagents_integration/__init__.py:15: in <module>
    from .factory import AgentFactory, agent_factory
deepagents_integration/factory.py:13: in <module>
    from deepagents.backend import BackendProtocol
E   ModuleNotFoundError: No module named 'deepagents.backend'
_____ ERROR collecting tests/test_deepagents_integration/test_planning.py ______
ImportError while importing test module '/Users/nooneelse/Desktop/deeps/backend/tests/test_deepagents_integration/test_planning.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:184: in exec_module
    exec(co, module.__dict__)
tests/test_deepagents_integration/test_planning.py:16: in <module>
    from deepagents_integration.factory import AgentFactory
deepagents_integration/__init__.py:15: in <module>
    from .factory import AgentFactory, agent_factory
deepagents_integration/factory.py:13: in <module>
    from deepagents.backend import BackendProtocol
E   ModuleNotFoundError: No module named 'deepagents.backend'
_______ ERROR collecting tests/test_deepagents_integration/test_store.py _______
ImportError while importing test module '/Users/nooneelse/Desktop/deeps/backend/tests/test_deepagents_integration/test_store.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:184: in exec_module
    exec(co, module.__dict__)
tests/test_deepagents_integration/test_store.py:14: in <module>
    from deepagents_integration.store import StoreManager, PostgreSQLStore
deepagents_integration/__init__.py:15: in <module>
    from .factory import AgentFactory, agent_factory
deepagents_integration/factory.py:13: in <module>
    from deepagents.backend import BackendProtocol
E   ModuleNotFoundError: No module named 'deepagents.backend'
________ ERROR collecting tests/test_services/test_execution_service.py ________
ImportError while importing test module '/Users/nooneelse/Desktop/deeps/backend/tests/test_services/test_execution_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:184: in exec_module
    exec(co, module.__dict__)
tests/test_services/test_execution_service.py:20: in <module>
    from services.execution_service import execution_service
services/execution_service.py:18: in <module>
    from deepagents_integration.factory import agent_factory
deepagents_integration/__init__.py:15: in <module>
    from .factory import AgentFactory, agent_factory
deepagents_integration/factory.py:13: in <module>
    from deepagents.backend import BackendProtocol
E   ModuleNotFoundError: No module named 'deepagents.backend'

---------- coverage: platform darwin, python 3.13.3-final-0 ----------
Name                                                         Stmts   Miss  Cover   Missing
------------------------------------------------------------------------------------------
api/__init__.py                                                  0      0   100%
api/v1/__init__.py                                               0      0   100%
api/v1/advanced_config.py                                      265    265     0%   11-846
api/v1/agents.py                                               149    149     0%   13-677
api/v1/analytics.py                                             44     44     0%   3-365
api/v1/auth.py                                                  40     40     0%   10-158
api/v1/executions.py                                            98     98     0%   16-347
api/v1/external_tools.py                                        99     99     0%   8-470
api/v1/health.py                                               125    125     0%   10-364
api/v1/metrics.py                                               67     67     0%   11-352
api/v1/monitoring.py                                            34     34     0%   3-220
api/v1/templates.py                                            136    136     0%   19-648
api/v1/tools.py                                                 74     74     0%   7-253
api/v1/users.py                                                 35     35     0%   10-143
core/__init__.py                                                 2      0   100%
core/config.py                                                  26      3    88%   92, 96, 118
core/database.py                                                27     14    48%   28-32, 74-82, 92-93
core/dependencies.py                                            43     31    28%   43-81, 99-104, 123-139
core/encryption.py                                              82     82     0%   13-293
core/metrics_external_tools.py                                  39     39     0%   7-315
core/middleware.py                                              38     38     0%   10-166
core/rate_limiter.py                                           103    103     0%   8-350
core/security.py                                                23     14    39%   32-36, 49, 67-86, 107-113
deepagents_integration/__init__.py                               5      3    40%   16-19
deepagents_integration/backends.py                              53     53     0%   11-243
deepagents_integration/executor.py                              88     72    18%   54-109, 119-125, 129-135, 139-145, 151-159, 176-217, 229-243, 269-294
deepagents_integration/factory.py                               58     54     7%   14-268
deepagents_integration/registry.py                              41     41     0%   8-206
deepagents_integration/store.py                                105    105     0%   8-340
deepagents_integration/traces.py                                50     50     0%   8-168
init_db.py                                                      56     56     0%   9-150
langchain_tools/__init__.py                                      6      6     0%   21-27
langchain_tools/base.py                                         42     42     0%   11-154
langchain_tools/elasticsearch_tool.py                          119    119     0%   12-373
langchain_tools/execution_logger.py                             94     94     0%   8-368
langchain_tools/gitlab_tool.py                                 201    201     0%   12-521
langchain_tools/http_tool.py                                   134    134     0%   12-379
langchain_tools/postgresql_tool.py                             106    106     0%   11-279
langchain_tools/wrappers.py                                     91     91     0%   11-291
main.py                                                         70     70     0%   12-241
models/__init__.py                                               9      0   100%
models/advanced_config.py                                       72      5    93%   93, 163, 218, 283, 362
models/agent.py                                                 59      3    95%   184, 239, 310
models/execution.py                                             46      2    96%   154, 241
models/external_tool.py                                         47      2    96%   123, 209
models/plan.py                                                  18      1    94%   83
models/template.py                                              25      1    96%   110
models/tool.py                                                  23      1    96%   106
models/user.py                                                  23      1    96%   104
schemas/agent.py                                                58      0   100%
schemas/auth.py                                                 59     18    69%   59-61, 67-77, 113-122, 126
schemas/subagent.py                                             23      0   100%
schemas/template.py                                            104     14    87%   100-104, 134-140, 200-203
schemas/tool.py                                                 33      0   100%
scripts/__init__.py                                              0      0   100%
scripts/create_test_data.py                                    144    144     0%   5-408
scripts/seed_templates.py                                       61     61     0%   15-632
services/__init__.py                                             0      0   100%
services/agent_service.py                                      149    121    19%   38-39, 52-53, 94-121, 140-152, 175-200, 224-243, 266-278, 304-344, 367-386, 412-434, 460-487, 509-535
services/analytics_service.py                                  263    244     7%   39-107, 120-132, 154-222, 244-315, 341-395, 417-515, 545-553, 568-644, 674-710, 731-830
services/auth_service.py                                        84     57    32%   39-42, 58-61, 77-80, 106-147, 167-189, 206-209, 230-237, 253-256, 272-275
services/execution_service.py                                   66     61     8%   19-248
services/external_tool_service.py                              149    149     0%   8-601
services/lockout_service.py                                    109     86    21%   34, 43-59, 63-64, 68, 72, 84-106, 118-125, 141-203, 217-234, 246-260, 272-291, 312-314
services/monitoring_service.py                                  93     77    17%   37-72, 97-113, 139-196, 214-235, 254-268, 293-305, 328-334, 351-358
services/subagent_service.py                                   108     81    25%   39-40, 47-49, 58, 65, 112-156, 177-190, 214-229, 255-278, 299-304, 323-330, 356, 377-400
services/template_service.py                                   166    131    21%   46-47, 60-61, 106-131, 153-164, 183-189, 217-251, 276-304, 323-330, 351-363, 375-383, 400-408, 425-433, 454-472, 492-498, 522-532, 552-554, 589-657, 680-691, 708-722
services/tool_factory.py                                        62     62     0%   9-259
services/tool_service.py                                        81     66    19%   42-66, 83, 108-142, 164-178, 197-209, 221-227, 248-272
tests/__init__.py                                                0      0   100%
tests/conftest.py                                               81     52    36%   50-52, 67-80, 94-105, 124-142, 160-172, 183, 205-219, 230, 245-261
tests/test_api/__init__.py                                       0      0   100%
tests/test_api/test_advanced_config.py                         272    224    18%   34-43, 49-65, 71-79, 89-102, 107-124, 129-144, 149-169, 174-191, 197-208, 213-214, 220-243, 249-262, 272-280, 286-295, 301-308, 313-314, 320-329, 340-356, 361-371, 377-398, 404-426, 432-451, 457-464, 470-493, 503-518, 523-536, 541-559, 565-584, 590-607, 612-615, 621-646, 652-673, 684-725, 730-739, 749-759, 764-775, 781-793, 798-807
tests/test_api/test_agents.py                                  220    180    18%   30-39, 45-62, 68-80, 90-119, 124-132, 139-150, 155-169, 181-187, 193-210, 215-219, 227-239, 251-258, 263-266, 274-278, 290-305, 310-314, 321-327, 334-346, 358-364, 369-371, 378-386, 394-400, 412-422, 429-437, 444-450, 458-473, 489-495, 502-522, 529-541, 551-556, 561-570
tests/test_api/test_analytics_endpoints.py                     172    125    27%   25-66, 77-103, 118-152, 157-169, 184-218, 229-254, 269-300, 305-317, 332-372, 380-391, 406-426, 431-436, 451-479, 484-494, 509-539, 544-549
tests/test_api/test_auth.py                                     96     69    28%   28-38, 44-48, 58-73, 78-88, 93-103, 108-117, 122-131, 136-145, 150-159, 169-181, 186-195, 200-209, 215-236, 246-256, 261-263, 268-273, 279-289, 299-306, 311-314
tests/test_api/test_executions.py                              144    123    15%   36-58, 64-70, 77-106, 112-114, 121-147, 154-201, 208-239, 246-271, 278-324, 331-372
tests/test_api/test_monitoring.py                              218    168    23%   25-64, 69-79, 95-131, 143-184, 189-194, 210-235, 246-279, 285-290, 306-342, 353-389, 395-400, 415-440, 451-473, 479-484, 489-494, 509-536, 547-569, 575-580, 585-590
tests/test_api/test_subagent_endpoints.py                      143    112    22%   27-36, 42-54, 60-72, 86-102, 111-123, 131-139, 147-155, 163-171, 181-198, 208-225, 233-240, 253-257, 267-283, 295-329, 334-337, 352-368, 377-382, 390-393, 408-429, 439-459, 468-476, 484-492
tests/test_api/test_templates.py                               177    142    20%   32-41, 47-59, 65-90, 100-132, 137-160, 165-188, 198-207, 213-241, 246-252, 258-287, 297-302, 307-310, 320-330, 335-339, 349-355, 360-362, 372-378, 389-418, 428-432, 442-448, 458-471, 476-491, 496-506, 516-541, 551-559, 564-566
tests/test_api/test_tools.py                                   247    213    14%   22-39, 44-56, 61-74, 80-92, 97-105, 110-118, 128-134, 140-151, 157-168, 174-195, 201-222, 228-254, 260-274, 280-289, 299-303, 309-319, 330-343, 348-351, 356-358, 369-390, 396-418, 424-435, 440-443, 449-458, 469-483, 489-502, 507-510, 521-553, 558-578
tests/test_api/test_users.py                                    76     54    29%   28-38, 44-48, 58-67, 72-74, 84-93, 99-119, 124-130, 140-155, 160-171, 176-187, 192-203, 208-218, 228-238, 243-245
tests/test_core/__init__.py                                      0      0   100%
tests/test_core/test_config.py                                  64     52    19%   15-21, 26-36, 41-55, 60-66, 71-75, 80-86, 91-109, 114-120, 125-133
tests/test_core/test_dependencies.py                            85     57    33%   28-54, 61-69, 76-86, 93-103, 110-120, 132-143, 150-163, 175-197, 204-206, 213-219
tests/test_core/test_security.py                                80     65    19%   15-24, 29-36, 41-48, 53-64, 69-77, 82-95, 100-105, 110-120, 125-135, 140-152, 157-162, 167-175
tests/test_deepagents_integration/__init__.py                    0      0   100%
tests/test_deepagents_integration/test_backends.py             136    134     1%   21-414
tests/test_deepagents_integration/test_factory.py              209    203     3%   15-424
tests/test_deepagents_integration/test_factory_advanced.py     147    143     3%   16-559
tests/test_deepagents_integration/test_filesystem.py            73     49    33%   18, 22-30, 34-42, 46-58, 62-70, 74-82, 86-94, 98-105, 109-118, 122-139, 143-147, 151-158, 166, 171-172, 177-178, 183-186, 198-213
tests/test_deepagents_integration/test_planning.py             112    107     4%   17-375
tests/test_deepagents_integration/test_store.py                212    209     1%   15-495
tests/test_main.py                                              79     60    24%   13-17, 22-29, 34-40, 46-55, 60-66, 71-79, 84-87, 92-95, 100-105, 112-114, 119-123, 128-132, 137-140, 145-148, 153-157, 162-168, 173-188
tests/test_services/__init__.py                                  0      0   100%
tests/test_services/test_agent_service.py                      266    198    26%   31-40, 46-58, 64, 81, 97-116, 127-136, 147-156, 168-183, 195-221, 237-250, 259-264, 276-294, 306-327, 341-343, 354-381, 392-438, 449-503, 520-547, 556-559, 575-596, 607-618, 629-663, 680-701, 713-733, 742-743, 765-788, 800-833, 843-844, 861-889, 902-933
tests/test_services/test_analytics_service.py                  261    206    21%   25-149, 160-211, 216-225, 240-348, 359-406, 411-420, 435-516, 527-577, 582-593, 607-676, 686-711, 716-725, 739-808, 816-826, 840-882, 890-894, 908-936, 941-951, 965-993, 998-1005
tests/test_services/test_auth_service.py                       130     90    31%   26-43, 49-50, 57-73, 79-80, 87-103, 109-110, 121-133, 139-155, 161-177, 189-202, 209-221, 227-231, 243-258, 270-283, 290-305, 317-328, 335-349
tests/test_services/test_execution_service.py                  173    166     4%   23-409
tests/test_services/test_monitoring_service.py                 222    171    23%   24-60, 65-72, 83-123, 138-171, 182-221, 232-256, 266-296, 305-315, 330-352, 362-391, 402-417, 428-459, 474-507, 518-537, 548-572, 582-614, 628-650, 660-684, 689-691, 696-698
tests/test_services/test_subagent_service.py                   168    115    32%   37-46, 52-64, 70-82, 88, 104-119, 130-143, 153-162, 172-181, 191-200, 211-228, 240-254, 265-316, 331-336, 348-366, 378-436, 445-446, 466-489, 500-501, 515-516, 537-561, 573-594, 605-608, 623-626
tests/test_services/test_template_service.py                   200    139    30%   48-57, 63-75, 81, 97, 111, 127-144, 156-164, 180-189, 205-217, 226-227, 241-253, 270-294, 306-331, 343-373, 389-408, 420-447, 467-489, 500-514, 534-551, 563-578, 589-602, 614-636, 647-664, 675-690, 706-733, 744-769
tests/test_services/test_tool_service.py                       196    143    27%   23-45, 51-62, 68-79, 85-95, 107-117, 123-124, 135-136, 143-164, 171-195, 202-231, 238-261, 268-290, 297-318, 330-347, 354-372, 378-381, 388-399, 411-424, 431-443, 449-450, 461-462, 469-494, 506-518, 525-542
------------------------------------------------------------------------------------------
TOTAL                                                         9661   7944    18%
Coverage HTML written to dir htmlcov

=========================== short test summary info ============================
ERROR tests/test_deepagents_integration/test_backends.py
ERROR tests/test_deepagents_integration/test_factory.py
ERROR tests/test_deepagents_integration/test_factory_advanced.py
ERROR tests/test_deepagents_integration/test_planning.py
ERROR tests/test_deepagents_integration/test_store.py
ERROR tests/test_services/test_execution_service.py
!!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
========================= 1 warning, 6 errors in 2.74s =========================
