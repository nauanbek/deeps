# PostgreSQL SSL/TLS Configuration
# Enable SSL for encrypted database connections
#
# This file should be included in postgresql.conf:
# include = 'postgresql-ssl.conf'

# Enable SSL
ssl = on

# SSL Certificate Files
# Generate with: openssl req -new -x509 -days 365 -nodes -text -out server.crt -keyout server.key
ssl_cert_file = '/var/lib/postgresql/data/certs/server.crt'
ssl_key_file = '/var/lib/postgresql/data/certs/server.key'

# Optional: CA certificate for client verification
# ssl_ca_file = '/var/lib/postgresql/data/certs/root.crt'

# SSL Cipher Suites (Strong ciphers only)
ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL:!MD5:!RC4'

# SSL Preferences
ssl_prefer_server_ciphers = on

# Minimum SSL Protocol Version
ssl_min_protocol_version = 'TLSv1.2'

# Connection Requirements
# require: SSL required for all connections
# prefer: SSL preferred but not required
# allow: SSL allowed but not required
# disable: SSL disabled

# For production, set to 'require' in pg_hba.conf:
# hostssl    all             all             0.0.0.0/0            scram-sha-256

# Client Authentication Method
# Use scram-sha-256 instead of md5 for better security
password_encryption = scram-sha-256
