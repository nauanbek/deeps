
> frontend@0.1.0 test
> react-scripts test --watchAll=false --verbose

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:72:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:72:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:72:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:72:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:72:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:72:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:72:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:72:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:97:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:97:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:97:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:97:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:97:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:97:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:97:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:97:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:131:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:131:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:131:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:131:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:131:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:131:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:131:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:131:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:153:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:153:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:153:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:153:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:153:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:153:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:153:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:153:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:184:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:184:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:184:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:184:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:184:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)PASS src/components/common/__tests__/JSONSchemaEditor.test.tsx
  JSONSchemaEditor
     renders Monaco editor (11 ms)
     displays initial value (1 ms)
     calls onChange when value changes (24 ms)
     displays error message when provided (3 ms)
     renders with custom height (1 ms)
     read-only mode disables editing (1 ms)
     format button is present
     handles custom theme (1 ms)
     validates JSON on change (37 ms)
  useJSONEditor hook
     initializes with default value (7 ms)
     initializes with custom value
     onChange updates value (1 ms)
     onChange validates JSON and sets error for invalid input
     getParsedValue returns parsed object for valid JSON (1 ms)
     getParsedValue returns null for invalid JSON (1 ms)
     isValid returns true for valid JSON
     isValid returns false for invalid JSON
     reset resets to initial value (1 ms)
     reset with new value updates state
     handles empty object
     handles nested objects
     handles arrays (1 ms)
     clears error when valid JSON is entered after invalid

FAIL src/__tests__/integration/AuthFlow.test.tsx
  Authentication Flow Integration
     redirects to login when accessing protected route without auth (59 ms)
     allows access to protected route after successful login (8 ms)
     shows error message on invalid credentials (5 ms)
     validates required fields before submission (12 ms)
     logs out user and redirects to login (6 ms)
     persists authentication across page refreshes (5 ms)
     handles token expiration gracefully (5 ms)

   Authentication Flow Integration  redirects to login when accessing protected route without auth

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:72:5)

   Authentication Flow Integration  allows access to protected route after successful login

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:97:5)

   Authentication Flow Integration  shows error message on invalid credentials

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:131:5)

   Authentication Flow Integration  validates required fields before submission

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:153:5)

   Authentication Flow Integration  logs out user and redirects to login

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:184:5)

   Authentication Flow Integration  persists authentication across page refreshes

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:211:5)

   Authentication Flow Integration  handles token expiration gracefully

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:233:5)


        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:184:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:184:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:184:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:211:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:211:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:211:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:211:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:211:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:211:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:211:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:211:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
    
    Check your code at AuthFlow.test.tsx:44.

      42 |     return render(
      43 |       <QueryClientProvider client={queryClient}>
    > 44 |         <MemoryRouter initialEntries={[initialRoute]}>
         |         ^
      45 |           <AuthProvider>
      46 |             <Routes>
      47 |               <Route path="/login" element={<Login />} />

      at printWarning (node_modules/react/cjs/react-jsx-dev-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-dev-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-dev-runtime.development.js:1245:7)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:44:9)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:233:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:233:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:233:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:233:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.]
        at reportException (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:233:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12) Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.
        at createFiberFromTypeAndProps (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
        at createFiberFromElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
        at reconcileSingleElement (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)
        at reconcileChildFibers (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)
        at reconcileChildren (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
        at updateContextProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21193:3)
        at beginWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:21688:14)
        at HTMLUnknownElement.callCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:338:25)
        at invokeEventListeners (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
        at HTMLUnknownElementImpl._dispatch (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
        at HTMLUnknownElement.dispatchEvent (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
        at Object.invokeGuardedCallbackDev (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/nooneelse/Desktop/deeps/frontend/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@testing-library/react/dist/pure.js:292:10)
        at renderWithProviders (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:42:18)
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/__tests__/integration/AuthFlow.test.tsx:233:5)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at VirtualConsole.<anonymous> (node_modules/jsdom/lib/jsdom/virtual-console.js:29:45)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:341:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:274:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:221:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:94:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:231:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:233:5)

  console.error
    The above error occurred in the <Context.Provider> component:
    
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:233:5)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Warning: An update to TemplateLibrary inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TemplateLibrary (/Users/nooneelse/Desktop/deeps/frontend/src/components/templates/TemplateLibrary.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at /Users/nooneelse/Desktop/deeps/frontend/src/components/templates/__tests__/TemplateLibrary.test.tsx:70:13

      44 |   useEffect(() => {
      45 |     const timer = setTimeout(() => {
    > 46 |       setDebouncedSearch(searchQuery);
         |       ^
      47 |       setCurrentPage(0); // Reset to first page on search
      48 |     }, 300);
      49 |

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at setDebouncedSearch (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at src/components/templates/TemplateLibrary.tsx:46:7
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:729:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1289:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1370:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1378:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:101:19)
      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:220:10)

  console.error
    Warning: An update to TemplateLibrary inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TemplateLibrary (/Users/nooneelse/Desktop/deeps/frontend/src/components/templates/TemplateLibrary.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at /Users/nooneelse/Desktop/deeps/frontend/src/components/templates/__tests__/TemplateLibrary.test.tsx:70:13

      45 |     const timer = setTimeout(() => {
      46 |       setDebouncedSearch(searchQuery);
    > 47 |       setCurrentPage(0); // Reset to first page on search
         |       ^
      48 |     }, 300);
      49 |
      50 |     return () => clearTimeout(timer);

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at setCurrentPage (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at src/components/templates/TemplateLibrary.tsx:47:7
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:729:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1289:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1370:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1378:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:101:19)
      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:220:10)

  console.error
    Failed to restore auth session: Error: Unauthorized
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/contexts/__tests__/AuthContext.test.tsx:60:52)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      26 |           setUser(userData);
      27 |         } catch (error) {
    > 28 |           console.error('Failed to restore auth session:', error);
         |                   ^
      29 |           // Clear invalid token
      30 |           localStorage.removeItem('auth_token');
      31 |           setToken(null);

      at initializeAuth (src/contexts/AuthContext.tsx:28:19)

FAIL src/components/templates/__tests__/TemplateLibrary.test.tsx
  TemplateLibrary
     renders header and search bar (27 ms)
     displays featured templates section (5 ms)
     displays template cards (6 ms)
     displays import button when onImportTemplate is provided (22 ms)
     calls onImportTemplate when import button is clicked (9 ms)
     filters templates by category (49 ms)
     searches templates with debouncing (77 ms)
     toggles featured filter (6 ms)
     toggles my templates filter when currentUserId is provided (5 ms)
     displays loading skeletons when loading (6 ms)
     displays error message when error occurs (2 ms)
     displays empty state when no templates found (2 ms)

   TemplateLibrary  toggles featured filter

    TestingLibraryElementError: Found multiple elements with the text: Featured

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"px-4 py-2 rounded-lg transition-colors bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"[39m
    [36m>[39m
      [0mFeatured[0m
    [36m</button>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"w-3 h-3"[39m
        [33mdata-slot[39m=[32m"icon"[39m
        [33mfill[39m=[32m"none"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-width[39m=[32m"1.5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"[39m
          [33mstroke-linecap[39m=[32m"round"[39m
          [33mstroke-linejoin[39m=[32m"round"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mFeatured[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mTemplate Library[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-gray-600"[39m
              [36m>[39m
                [0mBrowse and use pre-configured agent templates[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gradient-to-r from-primary-500 to-purple-600 rounded-xl p-6 text-white"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-bold mb-4"[39m
            [36m>[39m
              [0mFeatured Templates[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"font-semibold mb-2"[39m
                [36m>[39m
                  [0mResearch Assistant[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-white text-opacity-90 line-clamp-2"[39m
                [36m>[39m
                  [0mA research assistant template[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m42[0m
                    [0m uses[0m
                  [36m</span>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-3 py-1 bg-white text-primary-600 rounded hover:bg-opacity-90 transition-colors font-medium"[39m
                  [36m>[39m
                    [0mUse Template[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col lg:flex-row gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent"[39m
                    [33mplaceholder[39m=[32m"Search templates..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"[39m
                  [33mdata-slot[39m=[32m"icon"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-width[39m=[32m"1.5"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent appearance-none bg-white cursor-pointer min-w-[200px]"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Categories[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"research"[39m
                  [36m>[39m
                    [0mResearch[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"coding"[39m
                  [36m>[39m
                    [0mCoding[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"customer_support"[39m
                  [36m>[39m
                    [0mCustomer Support[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"data_analysis"[39m
                  [36m>[39m
                    [0mData Analysis[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_writing"[39m
                  [36m>[39m
                    [0mContent Writing[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"code_review"[39m
                  [36m>[39m
                    [0mCode Review[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"...

      232 |     );
      233 |
    > 234 |     const featuredButton = screen.getByText('Featured');
          |                                   ^
      235 |     fireEvent.click(featuredButton);
      236 |
      237 |     expect(featuredButton).toHaveClass('bg-indigo-100');

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:234:35)

   TemplateLibrary  toggles my templates filter when currentUserId is provided

    expect(element).toHaveClass("bg-indigo-100")

    Expected the element to have class:
      bg-indigo-100
    Received:
      px-4 py-2 rounded-lg transition-colors bg-primary-100 border border-primary-300 text-primary-700

      251 |     fireEvent.click(myTemplatesButton);
      252 |
    > 253 |     expect(myTemplatesButton).toHaveClass('bg-indigo-100');
          |                               ^
      254 |   });
      255 |
      256 |   it('displays loading skeletons when loading', () => {

      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:253:31)

   TemplateLibrary  displays empty state when no templates found

    TestingLibraryElementError: Found multiple elements with the text: No templates found

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"text-sm text-gray-600"[39m
    [36m>[39m
      [0mNo templates found[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"text-lg font-semibold text-gray-900 mb-2"[39m
    [36m>[39m
      [0mNo templates found[0m
    [36m</h3>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mTemplate Library[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-gray-600"[39m
              [36m>[39m
                [0mBrowse and use pre-configured agent templates[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gradient-to-r from-primary-500 to-purple-600 rounded-xl p-6 text-white"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-bold mb-4"[39m
            [36m>[39m
              [0mFeatured Templates[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"font-semibold mb-2"[39m
                [36m>[39m
                  [0mResearch Assistant[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-white text-opacity-90 line-clamp-2"[39m
                [36m>[39m
                  [0mA research assistant template[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m42[0m
                    [0m uses[0m
                  [36m</span>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-3 py-1 bg-white text-primary-600 rounded hover:bg-opacity-90 transition-colors font-medium"[39m
                  [36m>[39m
                    [0mUse Template[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col lg:flex-row gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent"[39m
                    [33mplaceholder[39m=[32m"Search templates..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"[39m
                  [33mdata-slot[39m=[32m"icon"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-width[39m=[32m"1.5"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent appearance-none bg-white cursor-pointer min-w-[200px]"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Categories[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"research"[39m
                  [36m>[39m
                    [0mResearch[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"coding"[39m
                  [36m>[39m
                    [0mCoding[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"customer_support"[39m
                  [36m>[39m
                    [0mCustomer Support[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"data_analysis"[39m
                  [36m>[39m
                    [0mData Analysis[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_writing"[39m
                  [36m>[39m
                    [0mContent Writing[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"code_review"[39m
                  [36m>[39m
                    [0mCode Review[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"documentation"[39m
                  [36m>[39m
                    [0mDocumentation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"testing"[39m
                  [36m>[39m
                    [0mTesting[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"general"[39m
                  [36m>[39m
                    [0mGeneral[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 rounded-lg transition-colors bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"[39m
                [36m>[39m
                  [0mFeatured[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mNo templates found[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-12 text-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-12 h-12 mx-auto text-gray-400 mb-4"[39m
              [33mdata-slot[39m=[32m"icon"[39m
              [33mfill[39m=[32m"none"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-width[39m=[32m"1.5"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mNo templates found[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mb-4"[39m
            [36m>[39m
              [0mStart by browsing featured templates or importing your own[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      313 |     );
      314 |
    > 315 |     expect(screen.getByText('No templates found')).toBeInTheDocument();
          |                   ^
      316 |   });
      317 | });
      318 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:315:19)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at AgentFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/AgentFormModal.tsx:56:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Login failed: Error: Invalid credentials
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/contexts/__tests__/AuthContext.test.tsx:111:43)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      66 |       setUser(userData);
      67 |     } catch (error) {
    > 68 |       console.error('Login failed:', error);
         |               ^
      69 |       throw error;
      70 |     } finally {
      71 |       setIsLoading(false);

      at Object.login (src/contexts/AuthContext.tsx:68:15)
      at src/contexts/__tests__/AuthContext.test.tsx:121:11

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Registration failed: Error: Username already exists
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/contexts/__tests__/AuthContext.test.tsx:167:46)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      87 |       setUser(userData);
      88 |     } catch (error) {
    > 89 |       console.error('Registration failed:', error);
         |               ^
      90 |       throw error;
      91 |     } finally {
      92 |       setIsLoading(false);

      at Object.register (src/contexts/AuthContext.tsx:89:15)
      at src/contexts/__tests__/AuthContext.test.tsx:177:11

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at AgentFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/AgentFormModal.tsx:56:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at ToolFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/ToolFormModal.tsx:34:63)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/__tests__/ToolFormModal.test.tsx:33:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at ToolFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/ToolFormModal.tsx:34:63)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/__tests__/ToolFormModal.test.tsx:33:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at ToolFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/ToolFormModal.tsx:34:63)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/__tests__/ToolFormModal.test.tsx:33:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at ToolFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/ToolFormModal.tsx:34:63)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/__tests__/ToolFormModal.test.tsx:33:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at ToolFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/ToolFormModal.tsx:34:63)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/__tests__/ToolFormModal.test.tsx:33:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

PASS src/contexts/__tests__/AuthContext.test.tsx
  AuthContext
    Initialization
       should initialize with no user when no token in localStorage (8 ms)
       should restore user session from localStorage token (56 ms)
       should clear invalid token from localStorage (55 ms)
    Login
       should successfully login user (7 ms)
       should handle login failure (5 ms)
    Register
       should successfully register user (4 ms)
       should handle registration failure (2 ms)
    Logout
       should successfully logout user (114 ms)
    RefreshUser
       should refresh user data (55 ms)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at AgentFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/AgentFormModal.tsx:56:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at ToolFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/ToolFormModal.tsx:34:63)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/tools/__tests__/ToolFormModal.test.tsx:33:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

PASS src/components/tools/__tests__/ToolFormModal.test.tsx
  ToolFormModal
     renders create modal title when no tool provided (51 ms)
     renders edit modal title when tool provided (12 ms)
     renders all form fields (19 ms)
     renders required field indicators (15 ms)
     populates form fields when editing existing tool (7 ms)
     displays validation error when name is empty (39 ms)
     calls createTool when creating new tool (21 ms)
     calls updateTool when editing existing tool (14 ms)
     shows success message after creating tool (17 ms)
     shows success message after updating tool (20 ms)
     shows error message when create fails (23 ms)
     closes modal after successful submission (16 ms)
     calls onClose when cancel button clicked (10 ms)
     disables form inputs while submitting (15 ms)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

PASS src/components/analytics/__tests__/ExecutionTrendsChart.test.tsx
  ExecutionTrendsChart
     renders chart with data (296 ms)
     handles empty data (1 ms)
     shows loading state (1 ms)
     shows error state
     displays chart title (2 ms)
     renders chart container with data (2 ms)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at AgentFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/AgentFormModal.tsx:56:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at AgentFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/AgentFormModal.tsx:56:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Form submission error: Error: Submit failed
        at Object.<anonymous> (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/AgentFormModal.test.tsx:276:36)
        at Promise.then.completed (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:218:40)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:569:9)
        at processTimers (node:internal/timers:543:7)
        at _runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/nooneelse/Desktop/deeps/frontend/node_modules/jest-runner/build/testWorker.js:133:12)

      136 |     } catch (error) {
      137 |       // Error handling is done in parent component
    > 138 |       console.error('Form submission error:', error);
          |               ^
      139 |     }
      140 |   };
      141 |

      at handleFormSubmit (src/components/agents/AgentFormModal.tsx:138:15)
      at node_modules/react-hook-form/src/logic/createFormControl.ts:1292:7

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

FAIL src/components/agents/__tests__/AgentFormModal.test.tsx
  AgentFormModal
     renders create modal correctly (138 ms)
     renders edit modal with agent data (27 ms)
     validates required fields (38 ms)
     validates system prompt is required (105 ms)
     validates temperature range (19 ms)
     submits form with valid data (145 ms)
     updates model options when provider changes (20 ms)
     toggles planning enabled (11 ms)
     toggles filesystem enabled (14 ms)
     shows loading state when submitting (15 ms)
     closes modal on cancel (10 ms)
     does not close modal on submit error (44 ms)
     updates form when agent prop changes (11 ms)

   AgentFormModal  validates temperature range

    TestingLibraryElementError: Unable to find a label with the text of: /agent name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
      [36m<div[39m
        [33mid[39m=[32m"headlessui-portal-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-headlessui-portal[39m=[32m""[39m
        [36m>[39m
          [36m<button[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
            [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r17:"[39m
              [33maria-modal[39m=[32m"true"[39m
              [33mclass[39m=[32m"relative z-50"[39m
              [33mdata-closed[39m=[32m""[39m
              [33mdata-enter[39m=[32m""[39m
              [33mdata-headlessui-state[39m=[32m"open"[39m
              [33mdata-open[39m=[32m""[39m
              [33mdata-transition[39m=[32m""[39m
              [33mid[39m=[32m"headlessui-dialog-:r10:"[39m
              [33mrole[39m=[32m"dialog"[39m
              [33mstyle[39m=[32m""[39m
              [33mtabindex[39m=[32m"-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25 ease-out duration-300 opacity-0"[39m
                [33mdata-closed[39m=[32m""[39m
                [33mdata-enter[39m=[32m""[39m
                [33mdata-transition[39m=[32m""[39m
                [33mstyle[39m=[32m""[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] lg:max-w-3xl ease-out duration-300 opacity-0 scale-95"[39m
                    [33mdata-closed[39m=[32m""[39m
                    [33mdata-enter[39m=[32m""[39m
                    [33mdata-headlessui-state[39m=[32m"open"[39m
                    [33mdata-open[39m=[32m""[39m
                    [33mdata-transition[39m=[32m""[39m
                    [33mid[39m=[32m"headlessui-dialog-panel-:r16:"[39m
                    [33mstyle[39m=[32m""[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-title-:r17:"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                      [36m>[39m
                        [0mCreate Agent[0m
                      [36m</h3>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Close modal"[39m
                        [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"h-6 w-6"[39m
                          [33mdata-slot[39m=[32m"icon"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-width[39m=[32m"1.5"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</button>[39m
                    [36m</div>[39m
                    [36m<form[39m
                      [33mclass[39m=[32m"space-y-6"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"name"[39m
                        [36m>[39m
                          [0mName [0m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-red-500"[39m
                          [36m>[39m
                            [0m*[0m
                          [36m</span>[39m
                        [36m</label>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-full"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"relative"[39m
                          [36m>[39m
                            [36m<input[39m
                              [33maria-invalid[39m=[32m"false"[39m
                              [33mclass[39m=[32m"w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus-visible:ring-2 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed transition-colors duration-200 border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus-visible:ring-primary-500"[39m
                              [33mid[39m=[32m"name"[39m
                              [33mname[39m=[32m"name"[39m
                              [33mplaceholder[39m=[32m"My Agent"[39m
                              [33mtype[39m=[32m"text"[39m
                            [36m/>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"w-full"[39m
                      [36m>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"description"[39m
                        [36m>[39m
                          [0mDescription[0m
                        [36m</label>[39m
                        [36m<textarea[39m
                          [33maria-invalid[39m=[32m"false"[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus-visible:ring-2 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-...

      135 |
      136 |     // Fill in required fields first
    > 137 |     const nameInput = screen.getByLabelText(/agent name/i);
          |                              ^
      138 |     const descInput = screen.getByLabelText(/description/i);
      139 |     const promptTextarea = screen.getByLabelText(/system prompt/i);
      140 |     const temperatureSlider = screen.getByLabelText(/temperature:/i);

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/agents/__tests__/AgentFormModal.test.tsx:137:30)

PASS src/components/analytics/__tests__/TokenUsageChart.test.tsx
  TokenUsageChart
     renders chart with data (152 ms)
     handles empty breakdown (1 ms)
     shows loading state
     shows error state (1 ms)
     displays total tokens and cost (3 ms)
     renders chart container with data (3 ms)
     displays groupBy label correctly (2 ms)

PASS src/components/executions/__tests__/ExecutionDetailsModal.test.tsx
  ExecutionDetailsModal
     renders execution details correctly (23 ms)
     displays execution ID in header (3 ms)
     shows duration and started time (4 ms)
     displays input prompt (4 ms)
     displays output for completed executions (3 ms)
     displays tokens used and estimated cost (3 ms)
     renders traces timeline (4 ms)
     shows live indicator when WebSocket connected (2 ms)
     combines initial traces with WebSocket traces (3 ms)
     shows cancel button for running executions (34 ms)
     hides cancel button for completed executions (20 ms)
     displays error message for failed executions (4 ms)
     calls onClose when close button clicked (13 ms)
     shows loading state while fetching execution
     shows error state when fetch fails (1 ms)
     shows WebSocket error message (2 ms)
     auto-scrolls to latest trace (2 ms)
     handles cancel execution (14 ms)
     closes modal on escape key press (3 ms)
     prevents body scroll when modal is open (5 ms)

  console.error
    Registration error: { response: { data: { detail: 'Username already exists' } } }

      71 |       navigate('/');
      72 |     } catch (error: any) {
    > 73 |       console.error('Registration error:', error);
         |               ^
      74 |
      75 |       // Handle validation errors (422)
      76 |       let message = 'Registration failed. Please try again.';

      at handleSubmit (src/pages/Register.tsx:73:15)

PASS src/pages/__tests__/Register.test.tsx
  Register Page
     should render register form (33 ms)
     should show validation errors for empty fields (10 ms)
     should validate username length (8 ms)
     should validate username format (8 ms)
     should validate email format (8 ms)
     should validate password strength (15 ms)
     should validate password confirmation (10 ms)
     should successfully submit registration form (10 ms)
     should show error message on registration failure (16 ms)
     should clear errors when user types (9 ms)
     should show loading state during registration (6 ms)
     should have link to login page (4 ms)

PASS src/components/executions/__tests__/ExecutionTable.test.tsx
  ExecutionTable
     renders execution table with all executions (7 ms)
     displays correct status badges with colors (4 ms)
     truncates long input text (6 ms)
     displays duration correctly (6 ms)
     displays "N/A" for null duration (11 ms)
     displays relative time for started_at (2 ms)
     calls onViewDetails when View button clicked (12 ms)
     shows Cancel button only for running executions (10 ms)
     calls onCancel when Cancel button clicked (7 ms)
     displays empty state when no executions (1 ms)
     shows loading state (1 ms)
     displays agent name or fallback to agent ID (1 ms)
     applies hover effect on table rows (1 ms)
     renders mobile card view on small screens (2 ms)
     shows running indicator for running executions (2 ms)
     handles undefined callbacks gracefully (2 ms)

PASS src/components/agents/__tests__/AgentCard.test.tsx
  AgentCard
     renders agent information correctly (5 ms)
     displays active status badge (2 ms)
     displays inactive status badge when agent is inactive (1 ms)
     shows planning feature badge when enabled (2 ms)
     shows filesystem feature badge when enabled (2 ms)
     shows "None" when no features enabled (1 ms)
     truncates long descriptions (2 ms)
     calls onEdit when edit button clicked (6 ms)
     calls onDelete when delete button clicked (3 ms)
     calls onExecute when execute button clicked (3 ms)
     does not render execute button when onExecute is not provided (10 ms)
     displays formatted timestamp (1 ms)
     uses created_at when updated_at is null (1 ms)
  AgentCardSkeleton
     renders loading skeleton (1 ms)

PASS src/pages/__tests__/Analytics.test.tsx
  Analytics Page
     renders all tabs (22 ms)
     switches between tabs (8 ms)
     renders date range picker (2 ms)
     renders overview tab content by default (5 ms)
     renders performance tab content when selected (5 ms)
     renders costs tab content when selected (4 ms)
     renders errors tab content when selected (6 ms)

  console.error
    Login error: { response: { data: { detail: 'Invalid username or password' } } }

      43 |       navigate('/');
      44 |     } catch (error: any) {
    > 45 |       console.error('Login error:', error);
         |               ^
      46 |       const message = error.response?.data?.detail || 'Invalid username or password';
      47 |       setApiError(message);
      48 |     }

      at handleSubmit (src/pages/Login.tsx:45:15)

PASS src/components/common/__tests__/DateRangePicker.test.tsx
  DateRangePicker
     renders with default preset (6 ms)
     calls onRangeChange with last 7 days on mount with default (1 ms)
     selects last 30 days preset (3 ms)
     selects last 90 days preset (2 ms)
     selects this month preset (2 ms)
     selects last month preset (3 ms)
     shows custom date inputs when custom range is selected (4 ms)
     calls onRangeChange when custom dates are selected (5 ms)
     formats dates in ISO format (1 ms)

PASS src/pages/__tests__/Login.test.tsx
  Login Page
     should render login form (23 ms)
     should show validation errors for empty fields (11 ms)
     should successfully submit login form (7 ms)
     should show error message on login failure (17 ms)
     should clear errors when user types (9 ms)
     should show loading state during login (5 ms)
     should have link to register page (3 ms)

PASS src/components/templates/__tests__/TemplateDetailModal.test.tsx
  TemplateDetailModal
     does not render when isOpen is false (2 ms)
     renders modal when isOpen is true (3 ms)
     displays template name and category (4 ms)
     displays featured badge when template is featured (3 ms)
     displays use count (2 ms)
     renders all three tabs (1 ms)
     displays overview tab content by default (2 ms)
     displays tags in overview tab (1 ms)
     switches to configuration tab when clicked (3 ms)
     displays configuration details in configuration tab (4 ms)
     switches to system prompt tab when clicked (3 ms)
     displays export button (2 ms)
     calls onExportTemplate when export button is clicked (2 ms)
     displays edit and delete buttons for owner (3 ms)
     does not display edit and delete buttons for non-owner (2 ms)
     calls onEditTemplate when edit button is clicked (2 ms)
     calls onDeleteTemplate when delete button is clicked (2 ms)
     calls onUseTemplate when Use This Template button is clicked (7 ms)
     calls onClose when close button is clicked (2 ms)

PASS src/components/templates/__tests__/ImportTemplateModal.test.tsx
  ImportTemplateModal
     does not render when isOpen is false (1 ms)
     renders modal when isOpen is true (8 ms)
     displays file upload area (2 ms)
     displays file size limit (1 ms)
     displays info about JSON format (1 ms)
     allows file selection via input (3 ms)
     displays selected file information (1 ms)
     allows removing selected file (3 ms)
     disables import button when no file is selected (5 ms)
     enables import button when file is selected (8 ms)
     calls onImport when form is submitted with valid file (7 ms)
     displays loading state when importing (1 ms)
     disables form when loading (1 ms)
     calls onClose when cancel button is clicked (1 ms)
     calls onClose when close icon is clicked (1 ms)
     validates file type (2 ms)

FAIL src/components/templates/__tests__/CreateAgentFromTemplateModal.test.tsx
  CreateAgentFromTemplateModal
     does not render when isOpen is false (10 ms)
     renders modal when isOpen is true (14 ms)
     pre-fills form with template data (7 ms)
     displays template reference information (13 ms)
     displays configuration preview (4 ms)
     allows editing agent name (5 ms)
     allows editing description (3 ms)
     allows editing temperature (8 ms)
     allows editing max tokens (3 ms)
     submits form with correct data (1013 ms)
     disables submit button when name is empty (7 ms)
     disables form when loading (7 ms)
     calls onClose when cancel button is clicked (3 ms)
     calls onClose when close icon is clicked (3 ms)

   CreateAgentFromTemplateModal  submits form with correct data

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      1,
      Object {
    -   "description": "A research assistant template",
    -   "name": "My Agent",
    -   "overrides": Object {
    +   "config_overrides": Object {
          "max_tokens": 4096,
          "temperature": 0.7,
        },
    +   "description": "A research assistant template",
    +   "name": "My Agent",
    +   "template_id": 1,
      },

    Number of calls: 1

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33maria-labelledby[39m=[32m"create-agent-title"[39m
            [33maria-modal[39m=[32m"true"[39m
            [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"[39m
            [33mrole[39m=[32m"dialog"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-fadeIn"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"px-6 py-4 border-b border-gray-200 flex items-center justify-between"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-bold text-gray-900"[39m
                  [33mid[39m=[32m"create-agent-title"[39m
                [36m>[39m
                  [0mCreate Agent from Template[0m
                [36m</h2>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"Close modal"[39m
                  [33mclass[39m=[32m"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"w-6 h-6"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<form[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-6 py-6 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-primary-50 border border-primary-200 rounded-lg p-4"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-sm font-semibold text-primary-900 mb-2"[39m
                    [36m>[39m
                      [0mTemplate: [0m
                      [0mResearch Assistant[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-primary-700"[39m
                    [36m>[39m
                      [0mThis agent will be created with the configuration from this template. You can customize the settings below.[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                      [33mfor[39m=[32m"agent-name"[39m
                    [36m>[39m
                      [0mAgent Name [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                      [33mid[39m=[32m"agent-name"[39m
                      [33mplaceholder[39m=[32m"Enter agent name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m"My Agent"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                      [33mfor[39m=[32m"agent-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                      [33mid[39m=[32m"agent-description"[39m
                      [33mplaceholder[39m=[32m"Describe what this agent does"[39m
                      [33mrows[39m=[32m"3"[39m
                    [36m>[39m
                      [0mA research assistant template[0m
                    [36m</textarea>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"border-t border-gray-200 pt-6"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900 mb-4"[39m
                    [36m>[39m
                      [0mConfiguration Overrides[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-6"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                          [33mfor[39m=[32m"temperature"[39m
                        [36m>[39m
                          [0mTemperature[0m
                        [36m</label>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"temperature"[39m
                          [33mmax[39m=[32m"1"[39m
                          [33mmin[39m=[32m"0"[39m
                          [33mstep[39m=[32m"0.1"[39m
                          [33mtype[39m=[32m"number"[39m
                          [33mvalue[39m=[32m"0.7"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mDefault: [0m
                          [0m0.7[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                          [33mfor[39m=[32m"max-tokens"[39m
                        [36m>[39m
                          [0mMax Tokens[0m
                        [36m</label>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"max-tokens"[39m
                          [33mmax[39m=[32m"100000"[39m
                          [33mmin[39m=[32m"1"[39m
                          [33mstep[39m=[32m"1"[39m
                          [33mtype[39m=[32m"number"[39m
                          [33mvalue[39m=[32m"4096"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mDefault: [0m
                          [0m4096[0m
                        [36m</p>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-50 border border-gray-200 rounded-lg p-4"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-sm font-semibold text-gray-900 mb-3"[39m
                    [36m>[39m
                      [0mFinal Configuration Preview[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-4 text-sm"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mModel:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mclaude-3-5-sonnet-20241022[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mProvider:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900 capitalize"[39m
                        [36m>[39m
                          [0manthropic[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mTemperature:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m0.7[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mMax Tokens:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m4096[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mPlanning:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mYes[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mFilesystem:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mYes[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3 bg-gray-50"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white transition-colors text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate Agent[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      198 |     await waitFor(() => {
      199 |       expect(mockOnSubmit).toHaveBeenCalledTimes(1);
    > 200 |       expect(mockOnSubmit).toHaveBeenCalledWith(1, {
          |                            ^
      201 |         name: 'My Agent',
      202 |         description: 'A research assistant template',
      203 |         overrides: {

      at src/components/templates/__tests__/CreateAgentFromTemplateModal.test.tsx:200:28
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

PASS src/App.test.tsx
   renders without crashing (12 ms)

PASS src/components/dashboard/__tests__/MetricCard.test.tsx
  MetricCard
     renders metric information (3 ms)
     renders subtitle when provided (1 ms)
     does not render subtitle when not provided (1 ms)
     renders positive trend indicator (1 ms)
     renders negative trend indicator (1 ms)
     handles click events when onClick is provided (17 ms)
     does not have cursor-pointer class when onClick is not provided (1 ms)
     renders string values (1 ms)
     renders all elements together (2 ms)

PASS src/components/common/__tests__/ErrorBoundaries.test.tsx
  PageErrorBoundary
     should render children when there is no error (2 ms)
     should catch errors and display error UI (13 ms)
     should display retry button (5 ms)
     should display go to dashboard button (4 ms)
     should call retry handler when retry button is clicked (6 ms)
  ModalErrorBoundary
     should render children when there is no error (1 ms)
     should catch errors and display error UI (3 ms)
     should display retry button (3 ms)
     should display close button when onClose is provided (5 ms)
     should not display close button when onClose is not provided (2 ms)
  WidgetErrorBoundary
     should render children when there is no error
     should catch errors and display error UI (3 ms)
     should display widget name in error message (2 ms)
     should display default widget name when not provided (1 ms)
     should display retry button (9 ms)
     should call retry handler when retry button is clicked (5 ms)
  Error Boundary Logging
     should log errors to console (2 ms)

PASS src/components/agents/__tests__/SubagentManager.test.tsx
  SubagentManager
     renders loading state (2 ms)
     renders empty state when no subagents (1 ms)
     renders list of subagents correctly (2 ms)
     displays subagent name from nested agent data (1 ms)
     displays delegation prompt when set (2 ms)
     displays default prompt message when delegation prompt is null (2 ms)
     displays priority as badge (1 ms)
     shows Add Subagent button (3 ms)
     opens SubagentSelectionModal on Add Subagent click (2 ms)
     calls remove mutation when delete button clicked (6 ms)
     opens SubagentEditModal when edit button clicked (4 ms)
     renders multiple subagents (1 ms)
     displays error state when query fails (1 ms)
     displays subagents ordered by priority (5 ms)

PASS src/components/tools/__tests__/ToolCard.test.tsx
  ToolCard
     renders tool name (5 ms)
     renders tool description (2 ms)
     renders tool type badge (1 ms)
     displays default text when description is null (1 ms)
     displays configuration count when configuration exists (1 ms)
     displays correct plural for multiple configuration options (1 ms)
     does not display configuration count when configuration is null (1 ms)
     does not display configuration count when configuration is empty (1 ms)
     calls onEdit when edit button is clicked (14 ms)
     calls onDelete when delete button is clicked (4 ms)
     applies correct styling for builtin tool type (1 ms)
     applies correct styling for custom tool type (1 ms)
     applies correct styling for langgraph tool type (1 ms)
     renders wrench icon (1 ms)
     renders edit and delete buttons (1 ms)
     has proper accessibility attributes on edit button (5 ms)
     has proper accessibility attributes on delete button (3 ms)

PASS src/components/templates/__tests__/TemplateCard.test.tsx
  TemplateCard
     renders template information correctly (4 ms)
     displays featured badge when template is featured (1 ms)
     does not display featured badge when template is not featured (1 ms)
     displays first 3 tags and shows count of remaining tags (2 ms)
     truncates long descriptions (1 ms)
     displays correct provider name for OpenAI (1 ms)
     calls onUseTemplate when Use Template button is clicked (1 ms)
     calls onViewDetails when view details button is clicked (2 ms)
  TemplateCardSkeleton
     renders loading skeleton

PASS src/components/executions/__tests__/FilesystemViewer.test.tsx
  FilesystemViewer
     shows empty state when no filesystem operations (3 ms)
     builds filesystem from write_file traces (3 ms)
     builds filesystem from multiple traces (1 ms)
     displays file content on selection (2 ms)
     handles file deletion by removing from list (1 ms)
     displays directory type correctly (1 ms)
     formats file size correctly
     updates filesystem when edit_file is called (1 ms)
     shows only filesystem_operation traces (1 ms)
     displays select file prompt when no file selected (1 ms)
     sorts files alphabetically

PASS src/components/executions/__tests__/TraceItem.test.tsx
  TraceItem
     renders llm_call trace correctly (3 ms)
     renders llm_response trace correctly (1 ms)
     renders tool_call trace correctly (2 ms)
     renders tool_result trace correctly (1 ms)
     renders error trace correctly (1 ms)
     renders plan_update trace correctly (1 ms)
     formats timestamp correctly
     displays step number correctly (1 ms)
     toggles content visibility when clicked (4 ms)
     applies correct color badge for each trace type (2 ms)
     renders JSON data with syntax highlighting (1 ms)
     handles missing or null data gracefully
     truncates long content appropriately (1 ms)

PASS src/components/dashboard/__tests__/AgentHealthCard.test.tsx
  AgentHealthCard
     renders agent information (3 ms)
     renders high success rate badge with green styling (2 ms)
     renders medium success rate badge with yellow styling (1 ms)
     renders low success rate badge with red styling (1 ms)
     renders execution metrics (1 ms)
     renders success and error counts (1 ms)
     renders last execution time when available (1 ms)
     does not render last execution time when null
     formats execution time to one decimal place (1 ms)
     formats success rate to one decimal place

PASS src/components/analytics/__tests__/SystemHealthCard.test.tsx
  SystemHealthCard
     displays all metrics (14 ms)
     formats uptime correctly (2 ms)
     displays success rate indicator (1 ms)
     shows database size and cache hit rate (1 ms)
     handles loading state (1 ms)
     handles error state

PASS src/components/analytics/__tests__/CostRecommendationsCard.test.tsx
  CostRecommendationsCard
     renders recommendations (3 ms)
     shows savings (2 ms)
     color codes impact levels (1 ms)
     handles empty state (no recommendations)
     handles loading state
     handles error state (1 ms)

PASS src/components/analytics/__tests__/ErrorAnalysisTable.test.tsx
  ErrorAnalysisTable
     renders error patterns (3 ms)
     displays counts and dates (2 ms)
     shows affected agents count
     handles empty state (1 ms)
     handles loading state
     handles error state

PASS src/components/analytics/__tests__/CostProjectionsCard.test.tsx
  CostProjectionsCard
     displays costs correctly (3 ms)
     shows trend indicator for increasing (2 ms)
     shows trend indicator for decreasing (1 ms)
     shows trend indicator for stable (1 ms)
     renders breakdown by agent (1 ms)
     handles loading state
     handles error state (1 ms)

  console.error
    Warning: A suspended resource finished loading inside a test, but the event was not wrapped in act(...).
    
    When testing, code that resolves suspended data should be wrapped into act(...):
    
    act(() => {
      /* finish loading suspended data */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfSuspenseResolutionNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27643:7)
      at pingSuspendedRoot (node_modules/react-dom/cjs/react-dom.development.js:27228:3)

PASS src/hooks/__tests__/useAuth.test.ts
  useAuth Hook
     should throw error when used outside AuthProvider (15 ms)

PASS src/components/dashboard/__tests__/ExecutionStatsChart.test.tsx
  ExecutionStatsChart
     renders chart title (57 ms)
     renders component successfully with data (2 ms)
     handles zero values gracefully (1 ms)
     handles all zero values and shows empty state
     applies correct styling to container (1 ms)

PASS src/components/auth/__tests__/ProtectedRoute.test.tsx
  ProtectedRoute
     should show loading spinner while checking auth status (3 ms)
     should redirect to login if not authenticated (1 ms)
     should render protected content if authenticated

PASS src/components/executions/__tests__/PlanViewer.test.tsx
  PlanViewer
     renders plan with todos (2 ms)
     shows empty state when no todos (1 ms)
     displays version when provided (1 ms)
     displays correct status colors (2 ms)
     displays status icons correctly (1 ms)
     displays status text correctly
     handles todos without id (1 ms)
     renders multiple todos in order (1 ms)
     applies correct border colors for each status
     handles long todo descriptions
     displays status labels with uppercase class

PASS src/components/analytics/__tests__/AgentRankingsTable.test.tsx
  AgentRankingsTable
     renders all columns (13 ms)
     renders agent data (2 ms)
     handles empty data
     shows loading state (1 ms)
     shows error state (2 ms)
     calls onAgentClick when row is clicked (3 ms)
     formats currency correctly (2 ms)
     formats duration correctly (1 ms)

FAIL src/pages/__tests__/ToolMarketplace.test.tsx
  ToolMarketplace
    Page rendering
       renders page title and description (21 ms)
       renders create tool button (21 ms)
       renders search input (2 ms)
       renders type filter dropdown (52 ms)
    Tool list display
       displays tools when data is available (13 ms)
       displays empty state when no tools exist (3 ms)
       displays tool count (8 ms)
       uses singular form for single tool (20 ms)
    Search functionality
       updates search query on input change (24 ms)
       displays active search filter badge (10 ms)
    Type filtering
       updates selected type on dropdown change (7 ms)
       displays active type filter badge (6 ms)
       has all type options available (7 ms)
    Clear filters
       shows clear filters button when filters are active (35 ms)
       clears all filters when clear button clicked (24 ms)
    Delete tool
       shows success message after successful deletion (72 ms)
       shows error message when deletion fails (1038 ms)

   ToolMarketplace  Delete tool  shows error message when deletion fails

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Cannot delete tool in use"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"min-h-screen bg-gray-50"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white border-b-gray-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h1[39m
                        [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                      [36m>[39m
                        [0mTool Marketplace[0m
                      [36m</h1>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"mt-2 text-sm text-gray-600"[39m
                      [36m>[39m
                        [0mCreate and manage tools for your AI agents[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] flex items-center space-x-2"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-5 h-5"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<span>[39m
                        [0mCreate Tool[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg border-gray-200 p-4 mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center space-x-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1 relative"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"sr-only"[39m
                        [33mfor[39m=[32m"tool-search"[39m
                      [36m>[39m
                        [0mSearch tools[0m
                      [36m</label>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"w-full pl-10 pr-4 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500"[39m
                        [33mid[39m=[32m"tool-search"[39m
                        [33mplaceholder[39m=[32m"Search tools by name..."[39m
                        [33mtype[39m=[32m"search"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"pl-10 pr-8 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 appearance-none cursor-pointer min-w-[160px]"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mAll Types[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"builtin"[39m
                        [36m>[39m
                          [0mBuilt-in[0m
     ...

      367 |
      368 |       await waitFor(() => {
    > 369 |         expect(mockError).toHaveBeenCalledWith('Cannot delete tool in use');
          |                           ^
      370 |       });
      371 |     });
      372 |   });

      at src/pages/__tests__/ToolMarketplace.test.tsx:369:27
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

FAIL src/components/agents/__tests__/ExecuteAgentModal.test.tsx
   Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/agents/__tests__/ExecuteAgentModal.test.tsx'

      14 | const mockNavigate = jest.fn();
      15 | jest.mock('react-router-dom', () => {
    > 16 |   const actual = jest.requireActual('react-router-dom');
         |                       ^
      17 |   return {
      18 |     ...actual,
      19 |     useNavigate: () => mockNavigate,

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at src/components/agents/__tests__/ExecuteAgentModal.test.tsx:16:23
      at Object.<anonymous> (src/components/agents/__tests__/ExecuteAgentModal.test.tsx:5:1)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentEditModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentEditModal.tsx:29:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentEditModal.test.tsx:29:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

FAIL src/components/agents/__tests__/SubagentEditModal.test.tsx
  SubagentEditModal
     renders with existing values pre-populated (172 ms)
     shows subagent name as read-only (10 ms)
     allows editing delegation prompt (128 ms)
     allows editing priority (8 ms)
     calls update mutation on submit (1064 ms)
     displays backend errors (21 ms)
     closes modal after successful update (41 ms)
     does not render when closed (1 ms)
     displays cancel button (10 ms)
     closes modal when cancel button clicked (13 ms)
     shows loading state when submitting (16 ms)
     validates priority range (6 ms)
     handles empty delegation prompt (41 ms)
     handles null delegation prompt in initial data (6 ms)
     disables form fields while submitting (5 ms)
     shows helper text for priority field (6 ms)
     updates form when subagent prop changes (6 ms)

   SubagentEditModal  calls update mutation on submit

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"agentId": 1, "data": {"delegation_prompt": "Updated prompt", "priority": 15}, "subagentId": 2}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r17:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r10:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r16:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r17:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mEdit Subagent: Research Agent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [36m>[39m
                            [0mSubagent[0m
                          [36m</label>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 bg-gray-50 border-gray-200 rounded-lg text-gray-700"[39m
                          [36m>[39m
                            [0mResearch Agent[0m
                          [36m</div>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mSubagent cannot be changed. Delete and add a new one to change the subagent.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100[0m
                          [36m</p>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mUpdate[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      170 |
      171 |     await waitFor(() => {
    > 172 |       expect(mockMutateAsync).toHaveBeenCalledWith({
          |                               ^
      173 |         agentId: 1,
      174 |         subagentId: 2,
      175 |         data: {

      at src/components/agents/__tests__/SubagentEditModal.test.tsx:172:31
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at AgentFormModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/AgentFormModal.tsx:56:3)
        at ModalErrorBoundary (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/ModalErrorBoundary.tsx:14:65)
        at Suspense
        at main
        at PageErrorBoundaryClass (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/PageErrorBoundary.tsx:14:101)
        at PageErrorBoundary (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/PageErrorBoundary.tsx:120:45)
        at AgentStudio (/Users/nooneelse/Desktop/deeps/frontend/src/pages/AgentStudio.tsx:21:49)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at /Users/nooneelse/Desktop/deeps/frontend/src/pages/__tests__/AgentStudio.test.tsx:68:13

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

FAIL src/pages/__tests__/AgentStudio.test.tsx
  AgentStudio
     renders agent studio page (98 ms)
     displays list of agents (16 ms)
     shows loading state (5 ms)
     shows error state with retry button (10 ms)
     shows empty state when no agents (2 ms)
     opens create modal when create button clicked (138 ms)
     filters agents by search query (50 ms)
     shows no results message when search has no matches (61 ms)
     clears search when clear button clicked (46 ms)
     opens edit modal when edit button clicked (21 ms)
     opens delete modal when delete button clicked (21 ms)
     creates agent successfully (1025 ms)
     updates agent successfully (89 ms)
     deletes agent successfully (1014 ms)
     displays toast notification on success (28 ms)
     does not show search bar when no agents (1 ms)

   AgentStudio  creates agent successfully

    Found multiple elements with the text: Create Agent

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] self-start sm:self-auto"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"w-5 h-5 mr-2"[39m
        [33mdata-slot[39m=[32m"icon"[39m
        [33mfill[39m=[32m"none"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-width[39m=[32m"1.5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
          [33mstroke-linecap[39m=[32m"round"[39m
          [33mstroke-linejoin[39m=[32m"round"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mCreate Agent[0m
    [36m</button>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
    [36m>[39m
      [0mCreate Agent[0m
    [36m</h3>[39m

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
      [33mtype[39m=[32m"submit"[39m
    [36m>[39m
      [0mCreate Agent[0m
    [36m</button>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<main[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mAgent Studio[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600 mt-2"[39m
              [36m>[39m
                [0mCreate, configure, and manage your AI agents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] self-start sm:self-auto"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-5 h-5 mr-2"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mCreate Agent[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"sr-only"[39m
              [33mfor[39m=[32m"agent-search"[39m
            [36m>[39m
              [0mSearch agents[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"h-5 w-5 text-gray-400"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<input[39m
              [33mclass[39m=[32m"block w-full pl-10 pr-3 py-2 border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus-visible:outline-none focus-visible:placeholder-gray-400 focus-visible:ring-1 focus-visible:ring-primary-500 focus-visible:border-primary-500 sm:text-sm"[39m
              [33mid[39m=[32m"agent-search"[39m
              [33mplaceholder[39m=[32m"Search agents by name, description, or model..."[39m
              [33mtype[39m=[32m"search"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-start justify-between mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                  [36m>[39m
                    [0mAgent One[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mFirst test agent[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-3 flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"w-3 h-3 mr-1"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mActive[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2 mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-600"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center space-x-1"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium"[39m
                    [36m>[39m
                      [0manthropic[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium text-gray-900"[39m
                    [36m>[39m
                      [0mclaude-3-5-sonnet-20241022[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-s...

      259 |     fireEvent.click(createButton);
      260 |
    > 261 |     await waitFor(() => {
          |                  ^
      262 |       expect(screen.getByText('Create Agent')).toBeInTheDocument();
      263 |     });
      264 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/pages/__tests__/AgentStudio.test.tsx:261:18)

   AgentStudio  deletes agent successfully

    Found multiple elements with the text: Delete Agent

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
    [36m>[39m
      [0mDelete Agent[0m
    [36m</h3>[39m

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500 px-4 py-2.5 text-base min-h-[48px]"[39m
    [36m>[39m
      [0mDelete Agent[0m
    [36m</button>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<main[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mAgent Studio[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600 mt-2"[39m
              [36m>[39m
                [0mCreate, configure, and manage your AI agents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] self-start sm:self-auto"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-5 h-5 mr-2"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mCreate Agent[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"sr-only"[39m
              [33mfor[39m=[32m"agent-search"[39m
            [36m>[39m
              [0mSearch agents[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"h-5 w-5 text-gray-400"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<input[39m
              [33mclass[39m=[32m"block w-full pl-10 pr-3 py-2 border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus-visible:outline-none focus-visible:placeholder-gray-400 focus-visible:ring-1 focus-visible:ring-primary-500 focus-visible:border-primary-500 sm:text-sm"[39m
              [33mid[39m=[32m"agent-search"[39m
              [33mplaceholder[39m=[32m"Search agents by name, description, or model..."[39m
              [33mtype[39m=[32m"search"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-start justify-between mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                  [36m>[39m
                    [0mAgent One[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mFirst test agent[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-3 flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"w-3 h-3 mr-1"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mActive[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2 mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-600"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center space-x-1"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium"[39m
                    [36m>[39m
                      [0manthropic[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium text-gray-900"[39m
                    [36m>[39m
                      [0mclaude-3-5-sonnet-20241022[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-s...

      315 |     fireEvent.click(deleteButtons[0]);
      316 |
    > 317 |     await waitFor(() => {
          |                  ^
      318 |       expect(screen.getByText('Delete Agent')).toBeInTheDocument();
      319 |     });
      320 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/pages/__tests__/AgentStudio.test.tsx:317:18)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.warn
    Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.
    Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.
    
    Example usage:
    ```js
    import { mockAnimationsApi } from 'jsdom-testing-mocks'
    mockAnimationsApi()
    ```

      at HTMLDivElement.getAnimationsPolyfill [as getAnimations] (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4227:15)
      at waitForTransition (node_modules/@headlessui/react/dist/headlessui.dev.cjs:4375:78)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:4361:13
      at runAnimationFrameCallbacks (node_modules/jsdom/lib/jsdom/browser/Window.js:599:13)
      at Timeout.<anonymous> (node_modules/jsdom/lib/jsdom/browser/Window.js:577:11)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

  console.error
    Warning: An update to TransitionRootFn inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at TransitionRootFn (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@headlessui/react/dist/headlessui.dev.cjs:9401:9)
        at Modal (/Users/nooneelse/Desktop/deeps/frontend/src/components/common/Modal.tsx:16:3)
        at SubagentSelectionModal (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/SubagentSelectionModal.tsx:30:3)
        at QueryClientProvider (/Users/nooneelse/Desktop/deeps/frontend/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:30:3)
        at wrapper (/Users/nooneelse/Desktop/deeps/frontend/src/components/agents/__tests__/SubagentSelectionModal.test.tsx:31:22)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:9447:7)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:1031:66
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9320:40
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:9221:106

FAIL src/components/agents/__tests__/SubagentSelectionModal.test.tsx (5.419 s)
  SubagentSelectionModal
     renders when open (131 ms)
     does not render when closed (2 ms)
     populates agent dropdown with available agents (39 ms)
     excludes current agent from dropdown (32 ms)
     shows validation error for required subagent field (32 ms)
     calls add mutation on form submit with valid data (1150 ms)
     calls add mutation with default priority when not specified (1017 ms)
     displays backend error for circular dependency (1017 ms)
     closes modal after successful submission (1016 ms)
     clears form on close (53 ms)
     validates priority range (10 ms)
     shows loading state when submitting (12 ms)
     displays cancel button (8 ms)
     closes modal when cancel button clicked (10 ms)
     shows helper text for priority field (5 ms)
     handles empty agent list gracefully (8 ms)
     shows loading state when agents are loading (4 ms)

   SubagentSelectionModal  calls add mutation on form submit with valid data

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"agentId": 1, "data": {"delegation_prompt": "You are a specialized research agent", "priority": 5, "subagent_id": 2}}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r17:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r10:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r16:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r17:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [0mSubagent [0m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-red-500"[39m
                            [36m>[39m
                              [0m*[0m
                            [36m</span>[39m
                          [36m</label>[39m
                          [36m<select[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"subagent_id"[39m
                            [33mname[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m""[39m
                            [36m>[39m
                              [0mSelect an agent...[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"2"[39m
                            [36m>[39m
                              [0mResearch Agent[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"3"[39m
                            [36m>[39m
                              [0mCode Review Agent[0m
                            [36m</option>[39m
                          [36m</select>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                          [36m</p>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mAdd Subagent[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      194 |
      195 |     await waitFor(() => {
    > 196 |       expect(mockMutateAsync).toHaveBeenCalledWith({
          |                               ^
      197 |         agentId: 1,
      198 |         data: {
      199 |           subagent_id: 2,

      at src/components/agents/__tests__/SubagentSelectionModal.test.tsx:196:31
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   SubagentSelectionModal  calls add mutation with default priority when not specified

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"agentId": 1, "data": {"delegation_prompt": "", "priority": 0, "subagent_id": 2}}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r1f:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r18:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r1e:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r1f:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [0mSubagent [0m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-red-500"[39m
                            [36m>[39m
                              [0m*[0m
                            [36m</span>[39m
                          [36m</label>[39m
                          [36m<select[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"subagent_id"[39m
                            [33mname[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m""[39m
                            [36m>[39m
                              [0mSelect an agent...[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"2"[39m
                            [36m>[39m
                              [0mResearch Agent[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"3"[39m
                            [36m>[39m
                              [0mCode Review Agent[0m
                            [36m</option>[39m
                          [36m</select>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mAdd Subagent[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      228 |
      229 |     await waitFor(() => {
    > 230 |       expect(mockMutateAsync).toHaveBeenCalledWith({
          |                               ^
      231 |         agentId: 1,
      232 |         data: {
      233 |           subagent_id: 2,

      at src/components/agents/__tests__/SubagentSelectionModal.test.tsx:230:31
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   SubagentSelectionModal  displays backend error for circular dependency

    Unable to find an element with the text: /circular dependency/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
      [36m<div[39m
        [33mid[39m=[32m"headlessui-portal-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-headlessui-portal[39m=[32m""[39m
        [36m>[39m
          [36m<button[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
            [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r1n:"[39m
              [33maria-modal[39m=[32m"true"[39m
              [33mclass[39m=[32m"relative z-50"[39m
              [33mdata-headlessui-state[39m=[32m"open"[39m
              [33mdata-open[39m=[32m""[39m
              [33mid[39m=[32m"headlessui-dialog-:r1g:"[39m
              [33mrole[39m=[32m"dialog"[39m
              [33mstyle[39m=[32m""[39m
              [33mtabindex[39m=[32m"-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                [33mstyle[39m=[32m""[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                    [33mdata-headlessui-state[39m=[32m"open"[39m
                    [33mdata-open[39m=[32m""[39m
                    [33mid[39m=[32m"headlessui-dialog-panel-:r1m:"[39m
                    [33mstyle[39m=[32m""[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-title-:r1n:"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                      [36m>[39m
                        [0mAdd Subagent[0m
                      [36m</h3>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Close modal"[39m
                        [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"h-6 w-6"[39m
                          [33mdata-slot[39m=[32m"icon"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-width[39m=[32m"1.5"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</button>[39m
                    [36m</div>[39m
                    [36m<form[39m
                      [33mclass[39m=[32m"space-y-6"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"subagent_id"[39m
                        [36m>[39m
                          [0mSubagent [0m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-red-500"[39m
                          [36m>[39m
                            [0m*[0m
                          [36m</span>[39m
                        [36m</label>[39m
                        [36m<select[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"subagent_id"[39m
                          [33mname[39m=[32m"subagent_id"[39m
                        [36m>[39m
                          [36m<option[39m
                            [33mvalue[39m=[32m""[39m
                          [36m>[39m
                            [0mSelect an agent...[0m
                          [36m</option>[39m
                          [36m<option[39m
                            [33mvalue[39m=[32m"2"[39m
                          [36m>[39m
                            [0mResearch Agent[0m
                          [36m</option>[39m
                          [36m<option[39m
                            [33mvalue[39m=[32m"3"[39m
                          [36m>[39m
                            [0mCode Review Agent[0m
                          [36m</option>[39m
                        [36m</select>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                        [36m>[39m
                          [0mInvalid input: expected number, received string[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"delegation_prompt"[39m
                        [36m>[39m
                          [0mDelegation Prompt (optional)[0m
                        [36m</label>[39m
                        [36m<textarea[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"delegation_prompt"[39m
                          [33mname[39m=[32m"delegation_prompt"[39m
                          [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                          [33mrows[39m=[32m"4"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mIf not provided, the subagent will use its default system prompt.[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"priority"[39m
                        [36m>[39m
                          [0mPriority[0m
                        [36m</label>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"priority"[39m
                          [33mmax[39m=[32m"100"[39m
                          [33mmin[39m=[32m"-100"[39m
                          [33mname[39m=[32m"priority"[39m
                          [33mtype[39m=[32m"number"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                      [36m>[39m
                        [36m<button[39m
                          [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0mCancel[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                          [33mtype[39m=[32m"submit"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</button>[39m
                      [36m</div>[39m
                    [36m</form>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
            [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      259 |     fireEvent.click(submitButton);
      260 |
    > 261 |     await waitFor(() => {
          |                  ^
      262 |       expect(screen.getByText(/circular dependency/i)).toBeInTheDocument();
      263 |     });
      264 |   });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/agents/__tests__/SubagentSelectionModal.test.tsx:261:18)

   SubagentSelectionModal  closes modal after successful submission

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r1v:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r1o:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r1u:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r1v:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [0mSubagent [0m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-red-500"[39m
                            [36m>[39m
                              [0m*[0m
                            [36m</span>[39m
                          [36m</label>[39m
                          [36m<select[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"subagent_id"[39m
                            [33mname[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m""[39m
                            [36m>[39m
                              [0mSelect an agent...[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"2"[39m
                            [36m>[39m
                              [0mResearch Agent[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"3"[39m
                            [36m>[39m
                              [0mCode Review Agent[0m
                            [36m</option>[39m
                          [36m</select>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mAdd Subagent[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      287 |
      288 |     await waitFor(() => {
    > 289 |       expect(mockOnClose).toHaveBeenCalled();
          |                           ^
      290 |     });
      291 |   });
      292 |

      at src/components/agents/__tests__/SubagentSelectionModal.test.tsx:289:27
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

FAIL src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx (5.934 s)
  BackendConfigTab
     renders loading state (12 ms)
     renders empty state when no config exists (7 ms)
     renders existing backend config (10 ms)
     loads state example (1061 ms)
     loads filesystem example (1027 ms)
     loads store example (1016 ms)
     loads composite example (1016 ms)
     creates new backend config on save (27 ms)
     updates existing backend config (28 ms)
     deletes backend config (13 ms)
     resets editor to initial state (1026 ms)
     handles save error (25 ms)
     disables save button for invalid JSON (12 ms)
     shows info boxes for backend types (4 ms)

   BackendConfigTab  renders existing backend config

    TestingLibraryElementError: Found multiple elements with the text: /filesystem/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<p[39m
      [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
    [36m>[39m
      [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
    [36m</p>[39m

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [0mFilesystem[0m
    [36m</button>[39m

    Ignored nodes: comments, script, style
    [36m<textarea[39m
      [33mdata-testid[39m=[32m"monaco-editor"[39m
    [36m>[39m
      [0m{
      "backend_type": "filesystem",
      "config": {
        "root_dir": "/workspace",
        "virtual_mode": true
      }
    }[0m
    [36m</textarea>[39m

    Ignored nodes: comments, script, style
    [36m<li>[39m
      [36m<strong>[39m
        [0mfilesystem:[0m
      [36m</strong>[39m
      [0m Real or virtual filesystem access[0m
    [36m</li>[39m

    Ignored nodes: comments, script, style
    [36m<strong>[39m
      [0mfilesystem:[0m
    [36m</strong>[39m

    Ignored nodes: comments, script, style
    [36m<strong>[39m
      [0mfilesystem[0m
    [36m</strong>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
            [36m>[39m
              [0mBackend Storage Configuration[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
            [36m>[39m
              [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mLoad Example Configuration[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mState[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mFilesystem[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mStore[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mComposite[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mConfiguration (JSON)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                  [36m>[39m
                    [0mJSON[0m
                    [0m Editor[0m
                  [36m</span>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                    [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mFormat[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<textarea[39m
                  [33mdata-testid[39m=[32m"monaco-editor"[39m
                [36m>[39m
                  [0m{
      "backend_type": "filesystem",
      "config": {
        "root_dir": "/workspace",
        "virtual_mode": true
      }
    }[0m
                [36m</textarea>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mSchema validation enabled[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-2"[39m
                [36m>[39m
                  [0m Required: [0m
                  [0mbackend_type, config[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
              [36m>[39m
                [0mBackend Types:[0m
              [36m</h4>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
              [36m>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mstate:[0m
                  [36m</strong>[39m
                  [0m Ephemeral in-memory storage (default, fastest)[0m
                [36m</li>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mfilesystem:[0m
                  [36m</strong>[39m
                  [0m Real or virtual filesystem access[0m
                [36m</li>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mstore:[0m
                  [36m</strong>[39m
                  [0m Persistent cross-thread storage (PostgreSQL)[0m
                [36m</li>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mcomposite:[0m
                  [36m</strong>[39m
                  [0m Hybrid routing (e.g., /memories/  store)[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-green-50 border border-green-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-start"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"h-5 w-5 text-green-400"[39m
                    [33mfill[39m=[32m"currentColor"[39m
                    [33mviewBox[39m=[32m"0 0 20 20"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33mclip-rule[39m=[32m"evenodd"[39m
                      [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"[39m
                      [33mfill-rule[39m=[32m"evenodd"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-green-800"[39m
                  [36m>[39m
                    [0mBackend configuration is active. Current type: [0m
                    [36m<strong>[39m
                      [0mfilesystem[0m
                    [36m</strong>[39m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500 px-4 py-2.5 text-base min-h-[48px]"[39m
              [36m>[39m
                [0mDelete Configuration[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
              [36m>[39m
                [0mReset[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
              [36m>[39m
                [0mUpdate Configuration[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      125 |
      126 |     expect(screen.getByText(/backend configuration is active/i)).toBeInTheDocument();
    > 127 |     expect(screen.getByText(/filesystem/i)).toBeInTheDocument();
          |                   ^
      128 |   });
      129 |
      130 |   test('loads state example', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:127:19)

   BackendConfigTab  loads state example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"state\""
    Received:
      {
        "backend_type": "state",
        "config": {}
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "state",
      "config": {}
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      136 |     const editor = screen.getByTestId('monaco-editor');
      137 |     await waitFor(() => {
    > 138 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "state"'));
          |                      ^
      139 |     });
      140 |   });
      141 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:138:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  loads filesystem example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"filesystem\""
    Received:
      {
        "backend_type": "filesystem",
        "config": {
          "root_dir": "/workspace/agent_123",
          "virtual_mode": false
        }
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "filesystem",
      "config": {
        "root_dir": "/workspace/agent_123",
        "virtual_mode": false
      }
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      148 |     const editor = screen.getByTestId('monaco-editor');
      149 |     await waitFor(() => {
    > 150 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "filesystem"'));
          |                      ^
      151 |     });
      152 |   });
      153 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:150:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  loads store example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"store\""
    Received:
      {
        "backend_type": "store",
        "config": {
          "namespace": "agent_123"
        }
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "store",
      "config": {
        "namespace": "agent_123"
      }
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      160 |     const editor = screen.getByTestId('monaco-editor');
      161 |     await waitFor(() => {
    > 162 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "store"'));
          |                      ^
      163 |     });
      164 |   });
      165 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:162:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  loads composite example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"composite\""
    Received:
      {
        "backend_type": "composite",
        "config": {
          "routes": {
            "/memories/": {
              "type": "store"
            },
            "/scratch/": {
              "type": "state"
            }
          },
          "default": {
            "type": "state"
          }
        }
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "composite",
      "config": {
        "routes": {
          "/memories/": {
            "type": "store"
          },
          "/scratch/": {
            "type": "state"
          }
        },
        "default": {
          "type": "state"
        }
      }
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      172 |     const editor = screen.getByTestId('monaco-editor');
      173 |     await waitFor(() => {
    > 174 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "composite"'));
          |                      ^
      175 |     });
      176 |   });
      177 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:174:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  resets editor to initial state

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"state\""
    Received:
      {
        "backend_type": "state",
        "config": {}
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "state",
      "config": {}
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      284 |     const editor = screen.getByTestId('monaco-editor');
      285 |     await waitFor(() => {
    > 286 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "state"'));
          |                      ^
      287 |     });
      288 |   });
      289 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:286:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  disables save button for invalid JSON

    Expected repeat modifier or release modifier or "}" but found " " in "{invalid json}"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

      315 |     const editor = screen.getByTestId('monaco-editor');
      316 |     await userEvent.clear(editor);
    > 317 |     await userEvent.type(editor, '{invalid json}');
          |     ^
      318 |
      319 |     const saveButton = screen.getByRole('button', { name: /create configuration/i });
      320 |     await waitFor(() => {

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:317:5)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","agents","health",null]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","stats",7]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","usage","tokens",30]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["monitoring","executions","recent",10]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

FAIL src/__tests__/integration/DashboardIntegration.test.tsx (9.909 s)
  Dashboard Integration Tests
     loads and displays all dashboard metrics (1024 ms)
     displays agent health information (1005 ms)
     shows recent activity feed (1004 ms)
     displays token usage statistics (1005 ms)
     handles loading state correctly (4 ms)
     handles API errors gracefully (1004 ms)
     displays execution statistics chart (1004 ms)
     refreshes data when page loads (1005 ms)
     shows empty state when no agents exist (1005 ms)
     shows empty state when no executions exist (1004 ms)

   Dashboard Integration Tests  loads and displays all dashboard metrics

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      166 |     // Wait for all data to load
      167 |     await waitFor(() => {
    > 168 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      169 |     });
      170 |
      171 |     // Check that metric cards are displayed

      at src/__tests__/integration/DashboardIntegration.test.tsx:168:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  displays agent health information

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      184 |
      185 |     await waitFor(() => {
    > 186 |       expect(agentsApi.getAgents).toHaveBeenCalled();
          |                                   ^
      187 |     });
      188 |
      189 |     // Should show agent names

      at src/__tests__/integration/DashboardIntegration.test.tsx:186:35
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  shows recent activity feed

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      200 |
      201 |     await waitFor(() => {
    > 202 |       expect(executionsApi.getExecutions).toHaveBeenCalled();
          |                                           ^
      203 |     });
      204 |
      205 |     // Should show recent executions

      at src/__tests__/integration/DashboardIntegration.test.tsx:202:43
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  displays token usage statistics

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      217 |
      218 |     await waitFor(() => {
    > 219 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      220 |     });
      221 |
      222 |     // Should show token usage

      at src/__tests__/integration/DashboardIntegration.test.tsx:219:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  handles API errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      258 |
      259 |     await waitFor(() => {
    > 260 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      261 |     });
      262 |
      263 |     // Should handle errors (exact error display depends on implementation)

      at src/__tests__/integration/DashboardIntegration.test.tsx:260:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  displays execution statistics chart

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      270 |
      271 |     await waitFor(() => {
    > 272 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      273 |     });
      274 |
      275 |     // Check for chart title

      at src/__tests__/integration/DashboardIntegration.test.tsx:272:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  refreshes data when page loads

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      286 |
      287 |     await waitFor(() => {
    > 288 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalledTimes(1);
          |                                              ^
      289 |       expect(agentsApi.getAgents).toHaveBeenCalledTimes(1);
      290 |       expect(executionsApi.getExecutions).toHaveBeenCalledTimes(1);
      291 |     });

      at src/__tests__/integration/DashboardIntegration.test.tsx:288:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  shows empty state when no agents exist

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      306 |
      307 |     await waitFor(() => {
    > 308 |       expect(agentsApi.getAgents).toHaveBeenCalled();
          |                                   ^
      309 |     });
      310 |
      311 |     // Should show zero agents

      at src/__tests__/integration/DashboardIntegration.test.tsx:308:35
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  shows empty state when no executions exist

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      324 |
      325 |     await waitFor(() => {
    > 326 |       expect(executionsApi.getExecutions).toHaveBeenCalled();
          |                                           ^
      327 |     });
      328 |
      329 |     // Recent activity should indicate no executions

      at src/__tests__/integration/DashboardIntegration.test.tsx:326:43
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

Summary of all failing tests
FAIL src/__tests__/integration/AuthFlow.test.tsx
   Authentication Flow Integration  redirects to login when accessing protected route without auth

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:72:5)

   Authentication Flow Integration  allows access to protected route after successful login

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:97:5)

   Authentication Flow Integration  shows error message on invalid credentials

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:131:5)

   Authentication Flow Integration  validates required fields before submission

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:153:5)

   Authentication Flow Integration  logs out user and redirects to login

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:184:5)

   Authentication Flow Integration  persists authentication across page refreshes

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:211:5)

   Authentication Flow Integration  handles token expiration gracefully

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 |
      41 |   const renderWithProviders = (initialRoute = '/') => {
    > 42 |     return render(
         |                  ^
      43 |       <QueryClientProvider client={queryClient}>
      44 |         <MemoryRouter initialEntries={[initialRoute]}>
      45 |           <AuthProvider>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at reconcileSingleElement (node_modules/react-dom/cjs/react-dom.development.js:13986:23)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14044:35)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateContextProvider (node_modules/react-dom/cjs/react-dom.development.js:21193:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21688:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/__tests__/integration/AuthFlow.test.tsx:42:18)
      at Object.<anonymous> (src/__tests__/integration/AuthFlow.test.tsx:233:5)

FAIL src/components/templates/__tests__/TemplateLibrary.test.tsx
   TemplateLibrary  toggles featured filter

    TestingLibraryElementError: Found multiple elements with the text: Featured

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"px-4 py-2 rounded-lg transition-colors bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"[39m
    [36m>[39m
      [0mFeatured[0m
    [36m</button>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"w-3 h-3"[39m
        [33mdata-slot[39m=[32m"icon"[39m
        [33mfill[39m=[32m"none"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-width[39m=[32m"1.5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"[39m
          [33mstroke-linecap[39m=[32m"round"[39m
          [33mstroke-linejoin[39m=[32m"round"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mFeatured[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mTemplate Library[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-gray-600"[39m
              [36m>[39m
                [0mBrowse and use pre-configured agent templates[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gradient-to-r from-primary-500 to-purple-600 rounded-xl p-6 text-white"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-bold mb-4"[39m
            [36m>[39m
              [0mFeatured Templates[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"font-semibold mb-2"[39m
                [36m>[39m
                  [0mResearch Assistant[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-white text-opacity-90 line-clamp-2"[39m
                [36m>[39m
                  [0mA research assistant template[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m42[0m
                    [0m uses[0m
                  [36m</span>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-3 py-1 bg-white text-primary-600 rounded hover:bg-opacity-90 transition-colors font-medium"[39m
                  [36m>[39m
                    [0mUse Template[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col lg:flex-row gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent"[39m
                    [33mplaceholder[39m=[32m"Search templates..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"[39m
                  [33mdata-slot[39m=[32m"icon"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-width[39m=[32m"1.5"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent appearance-none bg-white cursor-pointer min-w-[200px]"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Categories[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"research"[39m
                  [36m>[39m
                    [0mResearch[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"coding"[39m
                  [36m>[39m
                    [0mCoding[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"customer_support"[39m
                  [36m>[39m
                    [0mCustomer Support[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"data_analysis"[39m
                  [36m>[39m
                    [0mData Analysis[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_writing"[39m
                  [36m>[39m
                    [0mContent Writing[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"code_review"[39m
                  [36m>[39m
                    [0mCode Review[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"...

      232 |     );
      233 |
    > 234 |     const featuredButton = screen.getByText('Featured');
          |                                   ^
      235 |     fireEvent.click(featuredButton);
      236 |
      237 |     expect(featuredButton).toHaveClass('bg-indigo-100');

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:234:35)

   TemplateLibrary  toggles my templates filter when currentUserId is provided

    expect(element).toHaveClass("bg-indigo-100")

    Expected the element to have class:
      bg-indigo-100
    Received:
      px-4 py-2 rounded-lg transition-colors bg-primary-100 border border-primary-300 text-primary-700

      251 |     fireEvent.click(myTemplatesButton);
      252 |
    > 253 |     expect(myTemplatesButton).toHaveClass('bg-indigo-100');
          |                               ^
      254 |   });
      255 |
      256 |   it('displays loading skeletons when loading', () => {

      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:253:31)

   TemplateLibrary  displays empty state when no templates found

    TestingLibraryElementError: Found multiple elements with the text: No templates found

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"text-sm text-gray-600"[39m
    [36m>[39m
      [0mNo templates found[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"text-lg font-semibold text-gray-900 mb-2"[39m
    [36m>[39m
      [0mNo templates found[0m
    [36m</h3>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mTemplate Library[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-gray-600"[39m
              [36m>[39m
                [0mBrowse and use pre-configured agent templates[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gradient-to-r from-primary-500 to-purple-600 rounded-xl p-6 text-white"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-bold mb-4"[39m
            [36m>[39m
              [0mFeatured Templates[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 cursor-pointer hover:bg-opacity-20 transition-all"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"font-semibold mb-2"[39m
                [36m>[39m
                  [0mResearch Assistant[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-white text-opacity-90 line-clamp-2"[39m
                [36m>[39m
                  [0mA research assistant template[0m
                [36m</p>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m42[0m
                    [0m uses[0m
                  [36m</span>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-3 py-1 bg-white text-primary-600 rounded hover:bg-opacity-90 transition-colors font-medium"[39m
                  [36m>[39m
                    [0mUse Template[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col lg:flex-row gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent"[39m
                    [33mplaceholder[39m=[32m"Search templates..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"[39m
                  [33mdata-slot[39m=[32m"icon"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-width[39m=[32m"1.5"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent appearance-none bg-white cursor-pointer min-w-[200px]"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Categories[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"research"[39m
                  [36m>[39m
                    [0mResearch[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"coding"[39m
                  [36m>[39m
                    [0mCoding[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"customer_support"[39m
                  [36m>[39m
                    [0mCustomer Support[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"data_analysis"[39m
                  [36m>[39m
                    [0mData Analysis[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_writing"[39m
                  [36m>[39m
                    [0mContent Writing[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"code_review"[39m
                  [36m>[39m
                    [0mCode Review[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"documentation"[39m
                  [36m>[39m
                    [0mDocumentation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"testing"[39m
                  [36m>[39m
                    [0mTesting[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"general"[39m
                  [36m>[39m
                    [0mGeneral[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 rounded-lg transition-colors bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"[39m
                [36m>[39m
                  [0mFeatured[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mNo templates found[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-12 text-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-12 h-12 mx-auto text-gray-400 mb-4"[39m
              [33mdata-slot[39m=[32m"icon"[39m
              [33mfill[39m=[32m"none"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-width[39m=[32m"1.5"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mNo templates found[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mb-4"[39m
            [36m>[39m
              [0mStart by browsing featured templates or importing your own[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      313 |     );
      314 |
    > 315 |     expect(screen.getByText('No templates found')).toBeInTheDocument();
          |                   ^
      316 |   });
      317 | });
      318 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/templates/__tests__/TemplateLibrary.test.tsx:315:19)

FAIL src/components/agents/__tests__/AgentFormModal.test.tsx
   AgentFormModal  validates temperature range

    TestingLibraryElementError: Unable to find a label with the text of: /agent name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
      [36m<div[39m
        [33mid[39m=[32m"headlessui-portal-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-headlessui-portal[39m=[32m""[39m
        [36m>[39m
          [36m<button[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
            [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r17:"[39m
              [33maria-modal[39m=[32m"true"[39m
              [33mclass[39m=[32m"relative z-50"[39m
              [33mdata-closed[39m=[32m""[39m
              [33mdata-enter[39m=[32m""[39m
              [33mdata-headlessui-state[39m=[32m"open"[39m
              [33mdata-open[39m=[32m""[39m
              [33mdata-transition[39m=[32m""[39m
              [33mid[39m=[32m"headlessui-dialog-:r10:"[39m
              [33mrole[39m=[32m"dialog"[39m
              [33mstyle[39m=[32m""[39m
              [33mtabindex[39m=[32m"-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25 ease-out duration-300 opacity-0"[39m
                [33mdata-closed[39m=[32m""[39m
                [33mdata-enter[39m=[32m""[39m
                [33mdata-transition[39m=[32m""[39m
                [33mstyle[39m=[32m""[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] lg:max-w-3xl ease-out duration-300 opacity-0 scale-95"[39m
                    [33mdata-closed[39m=[32m""[39m
                    [33mdata-enter[39m=[32m""[39m
                    [33mdata-headlessui-state[39m=[32m"open"[39m
                    [33mdata-open[39m=[32m""[39m
                    [33mdata-transition[39m=[32m""[39m
                    [33mid[39m=[32m"headlessui-dialog-panel-:r16:"[39m
                    [33mstyle[39m=[32m""[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-title-:r17:"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                      [36m>[39m
                        [0mCreate Agent[0m
                      [36m</h3>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Close modal"[39m
                        [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"h-6 w-6"[39m
                          [33mdata-slot[39m=[32m"icon"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-width[39m=[32m"1.5"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</button>[39m
                    [36m</div>[39m
                    [36m<form[39m
                      [33mclass[39m=[32m"space-y-6"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"name"[39m
                        [36m>[39m
                          [0mName [0m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-red-500"[39m
                          [36m>[39m
                            [0m*[0m
                          [36m</span>[39m
                        [36m</label>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-full"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"relative"[39m
                          [36m>[39m
                            [36m<input[39m
                              [33maria-invalid[39m=[32m"false"[39m
                              [33mclass[39m=[32m"w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus-visible:ring-2 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed transition-colors duration-200 border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus-visible:ring-primary-500"[39m
                              [33mid[39m=[32m"name"[39m
                              [33mname[39m=[32m"name"[39m
                              [33mplaceholder[39m=[32m"My Agent"[39m
                              [33mtype[39m=[32m"text"[39m
                            [36m/>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"w-full"[39m
                      [36m>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"description"[39m
                        [36m>[39m
                          [0mDescription[0m
                        [36m</label>[39m
                        [36m<textarea[39m
                          [33maria-invalid[39m=[32m"false"[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus-visible:ring-2 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-...

      135 |
      136 |     // Fill in required fields first
    > 137 |     const nameInput = screen.getByLabelText(/agent name/i);
          |                              ^
      138 |     const descInput = screen.getByLabelText(/description/i);
      139 |     const promptTextarea = screen.getByLabelText(/system prompt/i);
      140 |     const temperatureSlider = screen.getByLabelText(/temperature:/i);

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/agents/__tests__/AgentFormModal.test.tsx:137:30)

FAIL src/components/templates/__tests__/CreateAgentFromTemplateModal.test.tsx
   CreateAgentFromTemplateModal  submits form with correct data

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      1,
      Object {
    -   "description": "A research assistant template",
    -   "name": "My Agent",
    -   "overrides": Object {
    +   "config_overrides": Object {
          "max_tokens": 4096,
          "temperature": 0.7,
        },
    +   "description": "A research assistant template",
    +   "name": "My Agent",
    +   "template_id": 1,
      },

    Number of calls: 1

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33maria-labelledby[39m=[32m"create-agent-title"[39m
            [33maria-modal[39m=[32m"true"[39m
            [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"[39m
            [33mrole[39m=[32m"dialog"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-fadeIn"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"px-6 py-4 border-b border-gray-200 flex items-center justify-between"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-bold text-gray-900"[39m
                  [33mid[39m=[32m"create-agent-title"[39m
                [36m>[39m
                  [0mCreate Agent from Template[0m
                [36m</h2>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"Close modal"[39m
                  [33mclass[39m=[32m"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"w-6 h-6"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<form[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-6 py-6 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-primary-50 border border-primary-200 rounded-lg p-4"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-sm font-semibold text-primary-900 mb-2"[39m
                    [36m>[39m
                      [0mTemplate: [0m
                      [0mResearch Assistant[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-primary-700"[39m
                    [36m>[39m
                      [0mThis agent will be created with the configuration from this template. You can customize the settings below.[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                      [33mfor[39m=[32m"agent-name"[39m
                    [36m>[39m
                      [0mAgent Name [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                      [33mid[39m=[32m"agent-name"[39m
                      [33mplaceholder[39m=[32m"Enter agent name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m"My Agent"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                      [33mfor[39m=[32m"agent-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                      [33mid[39m=[32m"agent-description"[39m
                      [33mplaceholder[39m=[32m"Describe what this agent does"[39m
                      [33mrows[39m=[32m"3"[39m
                    [36m>[39m
                      [0mA research assistant template[0m
                    [36m</textarea>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"border-t border-gray-200 pt-6"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900 mb-4"[39m
                    [36m>[39m
                      [0mConfiguration Overrides[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-6"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                          [33mfor[39m=[32m"temperature"[39m
                        [36m>[39m
                          [0mTemperature[0m
                        [36m</label>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"temperature"[39m
                          [33mmax[39m=[32m"1"[39m
                          [33mmin[39m=[32m"0"[39m
                          [33mstep[39m=[32m"0.1"[39m
                          [33mtype[39m=[32m"number"[39m
                          [33mvalue[39m=[32m"0.7"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mDefault: [0m
                          [0m0.7[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                          [33mfor[39m=[32m"max-tokens"[39m
                        [36m>[39m
                          [0mMax Tokens[0m
                        [36m</label>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"max-tokens"[39m
                          [33mmax[39m=[32m"100000"[39m
                          [33mmin[39m=[32m"1"[39m
                          [33mstep[39m=[32m"1"[39m
                          [33mtype[39m=[32m"number"[39m
                          [33mvalue[39m=[32m"4096"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mDefault: [0m
                          [0m4096[0m
                        [36m</p>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-50 border border-gray-200 rounded-lg p-4"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-sm font-semibold text-gray-900 mb-3"[39m
                    [36m>[39m
                      [0mFinal Configuration Preview[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-4 text-sm"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mModel:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mclaude-3-5-sonnet-20241022[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mProvider:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900 capitalize"[39m
                        [36m>[39m
                          [0manthropic[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mTemperature:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m0.7[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mMax Tokens:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m4096[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mPlanning:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mYes[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-600"[39m
                        [36m>[39m
                          [0mFilesystem:[0m
                        [36m</span>[39m
                        [0m [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mYes[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3 bg-gray-50"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-lg hover:bg-white transition-colors text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate Agent[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      198 |     await waitFor(() => {
      199 |       expect(mockOnSubmit).toHaveBeenCalledTimes(1);
    > 200 |       expect(mockOnSubmit).toHaveBeenCalledWith(1, {
          |                            ^
      201 |         name: 'My Agent',
      202 |         description: 'A research assistant template',
      203 |         overrides: {

      at src/components/templates/__tests__/CreateAgentFromTemplateModal.test.tsx:200:28
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

FAIL src/pages/__tests__/ToolMarketplace.test.tsx
   ToolMarketplace  Delete tool  shows error message when deletion fails

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Cannot delete tool in use"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"min-h-screen bg-gray-50"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white border-b-gray-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h1[39m
                        [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                      [36m>[39m
                        [0mTool Marketplace[0m
                      [36m</h1>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"mt-2 text-sm text-gray-600"[39m
                      [36m>[39m
                        [0mCreate and manage tools for your AI agents[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] flex items-center space-x-2"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-5 h-5"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<span>[39m
                        [0mCreate Tool[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg border-gray-200 p-4 mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center space-x-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1 relative"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"sr-only"[39m
                        [33mfor[39m=[32m"tool-search"[39m
                      [36m>[39m
                        [0mSearch tools[0m
                      [36m</label>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"w-full pl-10 pr-4 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500"[39m
                        [33mid[39m=[32m"tool-search"[39m
                        [33mplaceholder[39m=[32m"Search tools by name..."[39m
                        [33mtype[39m=[32m"search"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"pl-10 pr-8 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 appearance-none cursor-pointer min-w-[160px]"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mAll Types[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"builtin"[39m
                        [36m>[39m
                          [0mBuilt-in[0m
     ...

      367 |
      368 |       await waitFor(() => {
    > 369 |         expect(mockError).toHaveBeenCalledWith('Cannot delete tool in use');
          |                           ^
      370 |       });
      371 |     });
      372 |   });

      at src/pages/__tests__/ToolMarketplace.test.tsx:369:27
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

FAIL src/components/agents/__tests__/ExecuteAgentModal.test.tsx
   Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/agents/__tests__/ExecuteAgentModal.test.tsx'

      14 | const mockNavigate = jest.fn();
      15 | jest.mock('react-router-dom', () => {
    > 16 |   const actual = jest.requireActual('react-router-dom');
         |                       ^
      17 |   return {
      18 |     ...actual,
      19 |     useNavigate: () => mockNavigate,

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at src/components/agents/__tests__/ExecuteAgentModal.test.tsx:16:23
      at Object.<anonymous> (src/components/agents/__tests__/ExecuteAgentModal.test.tsx:5:1)

FAIL src/components/agents/__tests__/SubagentEditModal.test.tsx
   SubagentEditModal  calls update mutation on submit

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"agentId": 1, "data": {"delegation_prompt": "Updated prompt", "priority": 15}, "subagentId": 2}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r17:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r10:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r16:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r17:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mEdit Subagent: Research Agent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [36m>[39m
                            [0mSubagent[0m
                          [36m</label>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 bg-gray-50 border-gray-200 rounded-lg text-gray-700"[39m
                          [36m>[39m
                            [0mResearch Agent[0m
                          [36m</div>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mSubagent cannot be changed. Delete and add a new one to change the subagent.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100[0m
                          [36m</p>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mUpdate[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      170 |
      171 |     await waitFor(() => {
    > 172 |       expect(mockMutateAsync).toHaveBeenCalledWith({
          |                               ^
      173 |         agentId: 1,
      174 |         subagentId: 2,
      175 |         data: {

      at src/components/agents/__tests__/SubagentEditModal.test.tsx:172:31
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

FAIL src/pages/__tests__/AgentStudio.test.tsx
   AgentStudio  creates agent successfully

    Found multiple elements with the text: Create Agent

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] self-start sm:self-auto"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"w-5 h-5 mr-2"[39m
        [33mdata-slot[39m=[32m"icon"[39m
        [33mfill[39m=[32m"none"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-width[39m=[32m"1.5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
          [33mstroke-linecap[39m=[32m"round"[39m
          [33mstroke-linejoin[39m=[32m"round"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mCreate Agent[0m
    [36m</button>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
    [36m>[39m
      [0mCreate Agent[0m
    [36m</h3>[39m

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
      [33mtype[39m=[32m"submit"[39m
    [36m>[39m
      [0mCreate Agent[0m
    [36m</button>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<main[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mAgent Studio[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600 mt-2"[39m
              [36m>[39m
                [0mCreate, configure, and manage your AI agents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] self-start sm:self-auto"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-5 h-5 mr-2"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mCreate Agent[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"sr-only"[39m
              [33mfor[39m=[32m"agent-search"[39m
            [36m>[39m
              [0mSearch agents[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"h-5 w-5 text-gray-400"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<input[39m
              [33mclass[39m=[32m"block w-full pl-10 pr-3 py-2 border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus-visible:outline-none focus-visible:placeholder-gray-400 focus-visible:ring-1 focus-visible:ring-primary-500 focus-visible:border-primary-500 sm:text-sm"[39m
              [33mid[39m=[32m"agent-search"[39m
              [33mplaceholder[39m=[32m"Search agents by name, description, or model..."[39m
              [33mtype[39m=[32m"search"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-start justify-between mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                  [36m>[39m
                    [0mAgent One[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mFirst test agent[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-3 flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"w-3 h-3 mr-1"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mActive[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2 mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-600"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center space-x-1"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium"[39m
                    [36m>[39m
                      [0manthropic[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium text-gray-900"[39m
                    [36m>[39m
                      [0mclaude-3-5-sonnet-20241022[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-s...

      259 |     fireEvent.click(createButton);
      260 |
    > 261 |     await waitFor(() => {
          |                  ^
      262 |       expect(screen.getByText('Create Agent')).toBeInTheDocument();
      263 |     });
      264 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/pages/__tests__/AgentStudio.test.tsx:261:18)

   AgentStudio  deletes agent successfully

    Found multiple elements with the text: Delete Agent

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
    [36m>[39m
      [0mDelete Agent[0m
    [36m</h3>[39m

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500 px-4 py-2.5 text-base min-h-[48px]"[39m
    [36m>[39m
      [0mDelete Agent[0m
    [36m</button>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<main[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mAgent Studio[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600 mt-2"[39m
              [36m>[39m
                [0mCreate, configure, and manage your AI agents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px] self-start sm:self-auto"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-5 h-5 mr-2"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 4.5v15m7.5-7.5h-15"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mCreate Agent[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"sr-only"[39m
              [33mfor[39m=[32m"agent-search"[39m
            [36m>[39m
              [0mSearch agents[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"h-5 w-5 text-gray-400"[39m
                [33mdata-slot[39m=[32m"icon"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-width[39m=[32m"1.5"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<input[39m
              [33mclass[39m=[32m"block w-full pl-10 pr-3 py-2 border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus-visible:outline-none focus-visible:placeholder-gray-400 focus-visible:ring-1 focus-visible:ring-primary-500 focus-visible:border-primary-500 sm:text-sm"[39m
              [33mid[39m=[32m"agent-search"[39m
              [33mplaceholder[39m=[32m"Search agents by name, description, or model..."[39m
              [33mtype[39m=[32m"search"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-start justify-between mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                  [36m>[39m
                    [0mAgent One[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mFirst test agent[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-3 flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"w-3 h-3 mr-1"[39m
                    [33mdata-slot[39m=[32m"icon"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-width[39m=[32m"1.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mActive[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2 mb-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-sm"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-600"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center space-x-1"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs font-medium"[39m
                    [36m>[39m
                      [0manthropic[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium text-gray-900"[39m
                    [36m>[39m
                      [0mclaude-3-5-sonnet-20241022[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between text-s...

      315 |     fireEvent.click(deleteButtons[0]);
      316 |
    > 317 |     await waitFor(() => {
          |                  ^
      318 |       expect(screen.getByText('Delete Agent')).toBeInTheDocument();
      319 |     });
      320 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/pages/__tests__/AgentStudio.test.tsx:317:18)

FAIL src/components/agents/__tests__/SubagentSelectionModal.test.tsx (5.419 s)
   SubagentSelectionModal  calls add mutation on form submit with valid data

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"agentId": 1, "data": {"delegation_prompt": "You are a specialized research agent", "priority": 5, "subagent_id": 2}}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r17:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r10:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r16:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r17:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [0mSubagent [0m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-red-500"[39m
                            [36m>[39m
                              [0m*[0m
                            [36m</span>[39m
                          [36m</label>[39m
                          [36m<select[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"subagent_id"[39m
                            [33mname[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m""[39m
                            [36m>[39m
                              [0mSelect an agent...[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"2"[39m
                            [36m>[39m
                              [0mResearch Agent[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"3"[39m
                            [36m>[39m
                              [0mCode Review Agent[0m
                            [36m</option>[39m
                          [36m</select>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                          [36m</p>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mAdd Subagent[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      194 |
      195 |     await waitFor(() => {
    > 196 |       expect(mockMutateAsync).toHaveBeenCalledWith({
          |                               ^
      197 |         agentId: 1,
      198 |         data: {
      199 |           subagent_id: 2,

      at src/components/agents/__tests__/SubagentSelectionModal.test.tsx:196:31
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   SubagentSelectionModal  calls add mutation with default priority when not specified

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"agentId": 1, "data": {"delegation_prompt": "", "priority": 0, "subagent_id": 2}}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r1f:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r18:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r1e:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r1f:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [0mSubagent [0m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-red-500"[39m
                            [36m>[39m
                              [0m*[0m
                            [36m</span>[39m
                          [36m</label>[39m
                          [36m<select[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"subagent_id"[39m
                            [33mname[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m""[39m
                            [36m>[39m
                              [0mSelect an agent...[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"2"[39m
                            [36m>[39m
                              [0mResearch Agent[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"3"[39m
                            [36m>[39m
                              [0mCode Review Agent[0m
                            [36m</option>[39m
                          [36m</select>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mAdd Subagent[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      228 |
      229 |     await waitFor(() => {
    > 230 |       expect(mockMutateAsync).toHaveBeenCalledWith({
          |                               ^
      231 |         agentId: 1,
      232 |         data: {
      233 |           subagent_id: 2,

      at src/components/agents/__tests__/SubagentSelectionModal.test.tsx:230:31
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   SubagentSelectionModal  displays backend error for circular dependency

    Unable to find an element with the text: /circular dependency/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
      [36m<div[39m
        [33mid[39m=[32m"headlessui-portal-root"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-headlessui-portal[39m=[32m""[39m
        [36m>[39m
          [36m<button[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
            [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r1n:"[39m
              [33maria-modal[39m=[32m"true"[39m
              [33mclass[39m=[32m"relative z-50"[39m
              [33mdata-headlessui-state[39m=[32m"open"[39m
              [33mdata-open[39m=[32m""[39m
              [33mid[39m=[32m"headlessui-dialog-:r1g:"[39m
              [33mrole[39m=[32m"dialog"[39m
              [33mstyle[39m=[32m""[39m
              [33mtabindex[39m=[32m"-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                [33mstyle[39m=[32m""[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                    [33mdata-headlessui-state[39m=[32m"open"[39m
                    [33mdata-open[39m=[32m""[39m
                    [33mid[39m=[32m"headlessui-dialog-panel-:r1m:"[39m
                    [33mstyle[39m=[32m""[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-title-:r1n:"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                      [36m>[39m
                        [0mAdd Subagent[0m
                      [36m</h3>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Close modal"[39m
                        [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"h-6 w-6"[39m
                          [33mdata-slot[39m=[32m"icon"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-width[39m=[32m"1.5"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</button>[39m
                    [36m</div>[39m
                    [36m<form[39m
                      [33mclass[39m=[32m"space-y-6"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"subagent_id"[39m
                        [36m>[39m
                          [0mSubagent [0m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-red-500"[39m
                          [36m>[39m
                            [0m*[0m
                          [36m</span>[39m
                        [36m</label>[39m
                        [36m<select[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"subagent_id"[39m
                          [33mname[39m=[32m"subagent_id"[39m
                        [36m>[39m
                          [36m<option[39m
                            [33mvalue[39m=[32m""[39m
                          [36m>[39m
                            [0mSelect an agent...[0m
                          [36m</option>[39m
                          [36m<option[39m
                            [33mvalue[39m=[32m"2"[39m
                          [36m>[39m
                            [0mResearch Agent[0m
                          [36m</option>[39m
                          [36m<option[39m
                            [33mvalue[39m=[32m"3"[39m
                          [36m>[39m
                            [0mCode Review Agent[0m
                          [36m</option>[39m
                        [36m</select>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                        [36m>[39m
                          [0mInvalid input: expected number, received string[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"delegation_prompt"[39m
                        [36m>[39m
                          [0mDelegation Prompt (optional)[0m
                        [36m</label>[39m
                        [36m<textarea[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"delegation_prompt"[39m
                          [33mname[39m=[32m"delegation_prompt"[39m
                          [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                          [33mrows[39m=[32m"4"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mIf not provided, the subagent will use its default system prompt.[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                          [33mfor[39m=[32m"priority"[39m
                        [36m>[39m
                          [0mPriority[0m
                        [36m</label>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                          [33mid[39m=[32m"priority"[39m
                          [33mmax[39m=[32m"100"[39m
                          [33mmin[39m=[32m"-100"[39m
                          [33mname[39m=[32m"priority"[39m
                          [33mtype[39m=[32m"number"[39m
                        [36m/>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                      [36m>[39m
                        [36m<button[39m
                          [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0mCancel[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                          [33mtype[39m=[32m"submit"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</button>[39m
                      [36m</div>[39m
                    [36m</form>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
            [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      259 |     fireEvent.click(submitButton);
      260 |
    > 261 |     await waitFor(() => {
          |                  ^
      262 |       expect(screen.getByText(/circular dependency/i)).toBeInTheDocument();
      263 |     });
      264 |   });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/agents/__tests__/SubagentSelectionModal.test.tsx:261:18)

   SubagentSelectionModal  closes modal after successful submission

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-headlessui-focus-visible[39m=[32m""[39m
      [33mstyle[39m=[32m"padding-right: 1024px; overflow: hidden;"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
        [36m<div[39m
          [33mid[39m=[32m"headlessui-portal-root"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-headlessui-portal[39m=[32m""[39m
          [36m>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<div[39m
                [33maria-labelledby[39m=[32m"headlessui-dialog-title-:r1v:"[39m
                [33maria-modal[39m=[32m"true"[39m
                [33mclass[39m=[32m"relative z-50"[39m
                [33mdata-headlessui-state[39m=[32m"open"[39m
                [33mdata-open[39m=[32m""[39m
                [33mid[39m=[32m"headlessui-dialog-:r1o:"[39m
                [33mrole[39m=[32m"dialog"[39m
                [33mstyle[39m=[32m""[39m
                [33mtabindex[39m=[32m"-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-25"[39m
                  [33mstyle[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"fixed inset-0 overflow-y-auto"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex min-h-full items-center justify-center p-4 text-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-full transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all max-h-[90vh] overflow-y-auto max-w-[95vw] sm:max-w-2xl"[39m
                      [33mdata-headlessui-state[39m=[32m"open"[39m
                      [33mdata-open[39m=[32m""[39m
                      [33mid[39m=[32m"headlessui-dialog-panel-:r1u:"[39m
                      [33mstyle[39m=[32m""[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
                        [33mdata-headlessui-state[39m=[32m"open"[39m
                        [33mdata-open[39m=[32m""[39m
                        [33mid[39m=[32m"headlessui-dialog-title-:r1v:"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-medium leading-6 text-gray-900"[39m
                        [36m>[39m
                          [0mAdd Subagent[0m
                        [36m</h3>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Close modal"[39m
                          [33mclass[39m=[32m"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 min-h-[44px] min-w-[44px] flex items-center justify-center"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<svg[39m
                            [33maria-hidden[39m=[32m"true"[39m
                            [33mclass[39m=[32m"h-6 w-6"[39m
                            [33mdata-slot[39m=[32m"icon"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-width[39m=[32m"1.5"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M6 18 18 6M6 6l12 12"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<form[39m
                        [33mclass[39m=[32m"space-y-6"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [0mSubagent [0m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-red-500"[39m
                            [36m>[39m
                              [0m*[0m
                            [36m</span>[39m
                          [36m</label>[39m
                          [36m<select[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"subagent_id"[39m
                            [33mname[39m=[32m"subagent_id"[39m
                          [36m>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m""[39m
                            [36m>[39m
                              [0mSelect an agent...[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"2"[39m
                            [36m>[39m
                              [0mResearch Agent[0m
                            [36m</option>[39m
                            [36m<option[39m
                              [33mvalue[39m=[32m"3"[39m
                            [36m>[39m
                              [0mCode Review Agent[0m
                            [36m</option>[39m
                          [36m</select>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
                          [36m>[39m
                            [0mInvalid input: expected number, received string[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"delegation_prompt"[39m
                          [36m>[39m
                            [0mDelegation Prompt (optional)[0m
                          [36m</label>[39m
                          [36m<textarea[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"delegation_prompt"[39m
                            [33mname[39m=[32m"delegation_prompt"[39m
                            [33mplaceholder[39m=[32m"Provide custom instructions for delegating tasks to this subagent..."[39m
                            [33mrows[39m=[32m"4"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mIf not provided, the subagent will use its default system prompt.[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div>[39m
                          [36m<label[39m
                            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                            [33mfor[39m=[32m"priority"[39m
                          [36m>[39m
                            [0mPriority[0m
                          [36m</label>[39m
                          [36m<input[39m
                            [33mclass[39m=[32m"w-full px-3 py-2 border-gray-300 rounded-lg focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed"[39m
                            [33mid[39m=[32m"priority"[39m
                            [33mmax[39m=[32m"100"[39m
                            [33mmin[39m=[32m"-100"[39m
                            [33mname[39m=[32m"priority"[39m
                            [33mtype[39m=[32m"number"[39m
                          [36m/>[39m
                          [36m<p[39m
                            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mHigher priority subagents are called first. Range: -100 to 100 (default: 0)[0m
                          [36m</p>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex justify-end space-x-3 pt-4 border-t border-gray-200"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"button"[39m
                          [36m>[39m
                            [0mCancel[0m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                            [33mtype[39m=[32m"submit"[39m
                          [36m>[39m
                            [0mAdd Subagent[0m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</form>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mdata-headlessui-focus-guard[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: fixed; top: 1px; left: 1px; width: 1px; height: 0px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); white-space: nowrap; border-width: 0px;"[39m
              [33mtype[39m=[32m"button"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      287 |
      288 |     await waitFor(() => {
    > 289 |       expect(mockOnClose).toHaveBeenCalled();
          |                           ^
      290 |     });
      291 |   });
      292 |

      at src/components/agents/__tests__/SubagentSelectionModal.test.tsx:289:27
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

FAIL src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx (5.934 s)
   BackendConfigTab  renders existing backend config

    TestingLibraryElementError: Found multiple elements with the text: /filesystem/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<p[39m
      [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
    [36m>[39m
      [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
    [36m</p>[39m

    Ignored nodes: comments, script, style
    [36m<button[39m
      [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [0mFilesystem[0m
    [36m</button>[39m

    Ignored nodes: comments, script, style
    [36m<textarea[39m
      [33mdata-testid[39m=[32m"monaco-editor"[39m
    [36m>[39m
      [0m{
      "backend_type": "filesystem",
      "config": {
        "root_dir": "/workspace",
        "virtual_mode": true
      }
    }[0m
    [36m</textarea>[39m

    Ignored nodes: comments, script, style
    [36m<li>[39m
      [36m<strong>[39m
        [0mfilesystem:[0m
      [36m</strong>[39m
      [0m Real or virtual filesystem access[0m
    [36m</li>[39m

    Ignored nodes: comments, script, style
    [36m<strong>[39m
      [0mfilesystem:[0m
    [36m</strong>[39m

    Ignored nodes: comments, script, style
    [36m<strong>[39m
      [0mfilesystem[0m
    [36m</strong>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
            [36m>[39m
              [0mBackend Storage Configuration[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
            [36m>[39m
              [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mLoad Example Configuration[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mState[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mFilesystem[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mStore[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mComposite[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mConfiguration (JSON)[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                  [36m>[39m
                    [0mJSON[0m
                    [0m Editor[0m
                  [36m</span>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                    [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mFormat[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<textarea[39m
                  [33mdata-testid[39m=[32m"monaco-editor"[39m
                [36m>[39m
                  [0m{
      "backend_type": "filesystem",
      "config": {
        "root_dir": "/workspace",
        "virtual_mode": true
      }
    }[0m
                [36m</textarea>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mSchema validation enabled[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-2"[39m
                [36m>[39m
                  [0m Required: [0m
                  [0mbackend_type, config[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
              [36m>[39m
                [0mBackend Types:[0m
              [36m</h4>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
              [36m>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mstate:[0m
                  [36m</strong>[39m
                  [0m Ephemeral in-memory storage (default, fastest)[0m
                [36m</li>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mfilesystem:[0m
                  [36m</strong>[39m
                  [0m Real or virtual filesystem access[0m
                [36m</li>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mstore:[0m
                  [36m</strong>[39m
                  [0m Persistent cross-thread storage (PostgreSQL)[0m
                [36m</li>[39m
                [36m<li>[39m
                  [36m<strong>[39m
                    [0mcomposite:[0m
                  [36m</strong>[39m
                  [0m Hybrid routing (e.g., /memories/  store)[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-green-50 border border-green-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-start"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"h-5 w-5 text-green-400"[39m
                    [33mfill[39m=[32m"currentColor"[39m
                    [33mviewBox[39m=[32m"0 0 20 20"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33mclip-rule[39m=[32m"evenodd"[39m
                      [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"[39m
                      [33mfill-rule[39m=[32m"evenodd"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-green-800"[39m
                  [36m>[39m
                    [0mBackend configuration is active. Current type: [0m
                    [36m<strong>[39m
                      [0mfilesystem[0m
                    [36m</strong>[39m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500 px-4 py-2.5 text-base min-h-[48px]"[39m
              [36m>[39m
                [0mDelete Configuration[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
              [36m>[39m
                [0mReset[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
              [36m>[39m
                [0mUpdate Configuration[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      125 |
      126 |     expect(screen.getByText(/backend configuration is active/i)).toBeInTheDocument();
    > 127 |     expect(screen.getByText(/filesystem/i)).toBeInTheDocument();
          |                   ^
      128 |   });
      129 |
      130 |   test('loads state example', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:127:19)

   BackendConfigTab  loads state example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"state\""
    Received:
      {
        "backend_type": "state",
        "config": {}
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "state",
      "config": {}
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      136 |     const editor = screen.getByTestId('monaco-editor');
      137 |     await waitFor(() => {
    > 138 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "state"'));
          |                      ^
      139 |     });
      140 |   });
      141 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:138:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  loads filesystem example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"filesystem\""
    Received:
      {
        "backend_type": "filesystem",
        "config": {
          "root_dir": "/workspace/agent_123",
          "virtual_mode": false
        }
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "filesystem",
      "config": {
        "root_dir": "/workspace/agent_123",
        "virtual_mode": false
      }
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      148 |     const editor = screen.getByTestId('monaco-editor');
      149 |     await waitFor(() => {
    > 150 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "filesystem"'));
          |                      ^
      151 |     });
      152 |   });
      153 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:150:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  loads store example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"store\""
    Received:
      {
        "backend_type": "store",
        "config": {
          "namespace": "agent_123"
        }
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "store",
      "config": {
        "namespace": "agent_123"
      }
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      160 |     const editor = screen.getByTestId('monaco-editor');
      161 |     await waitFor(() => {
    > 162 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "store"'));
          |                      ^
      163 |     });
      164 |   });
      165 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:162:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  loads composite example

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"composite\""
    Received:
      {
        "backend_type": "composite",
        "config": {
          "routes": {
            "/memories/": {
              "type": "store"
            },
            "/scratch/": {
              "type": "state"
            }
          },
          "default": {
            "type": "state"
          }
        }
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-primary-500 bg-primary-50 text-primary-700"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "composite",
      "config": {
        "routes": {
          "/memories/": {
            "type": "store"
          },
          "/scratch/": {
            "type": "state"
          }
        },
        "default": {
          "type": "state"
        }
      }
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      172 |     const editor = screen.getByTestId('monaco-editor');
      173 |     await waitFor(() => {
    > 174 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "composite"'));
          |                      ^
      175 |     });
      176 |   });
      177 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:174:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  resets editor to initial state

    expect(element).toHaveValue(StringContaining)

    Expected the element to have value:
      StringContaining "\"backend_type\": \"state\""
    Received:
      {
        "backend_type": "state",
        "config": {}
      }

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-lg font-medium text-gray-900"[39m
              [36m>[39m
                [0mBackend Storage Configuration[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-gray-600"[39m
              [36m>[39m
                [0mConfigure how the agent stores files and state. StateBackend is ephemeral (default), while FilesystemBackend, StoreBackend, and CompositeBackend provide persistent storage.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mLoad Example Configuration[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-2 sm:grid-cols-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mState[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mFilesystem[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mStore[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 py-2 text-sm rounded-md border transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-50"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mComposite[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mConfiguration (JSON)[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg overflow-hidden border-gray-300 dark:border-gray-700"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gray-100 dark:bg-gray-800 px-3 py-2 flex items-center justify-between border-b border-gray-300 dark:border-gray-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm font-medium text-gray-700 dark:text-gray-300"[39m
                    [36m>[39m
                      [0mJSON[0m
                      [0m Editor[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors"[39m
                      [33mtitle[39m=[32m"Format JSON (Shift+Alt+F)"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mFormat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<textarea[39m
                    [33mdata-testid[39m=[32m"monaco-editor"[39m
                  [36m>[39m
                    [0m{
      "backend_type": "state",
      "config": {}
    }[0m
                  [36m</textarea>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 text-xs text-gray-500 dark:text-gray-400"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mSchema validation enabled[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2"[39m
                  [36m>[39m
                    [0m Required: [0m
                    [0mbackend_type, config[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"text-sm font-medium text-blue-900 mb-2"[39m
                [36m>[39m
                  [0mBackend Types:[0m
                [36m</h4>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"text-sm text-blue-800 space-y-1 list-disc list-inside"[39m
                [36m>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstate:[0m
                    [36m</strong>[39m
                    [0m Ephemeral in-memory storage (default, fastest)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mfilesystem:[0m
                    [36m</strong>[39m
                    [0m Real or virtual filesystem access[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mstore:[0m
                    [36m</strong>[39m
                    [0m Persistent cross-thread storage (PostgreSQL)[0m
                  [36m</li>[39m
                  [36m<li>[39m
                    [36m<strong>[39m
                      [0mcomposite:[0m
                    [36m</strong>[39m
                    [0m Hybrid routing (e.g., /memories/  store)[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between pt-4 border-t border-gray-200"[39m
            [36m>[39m
              [36m<div />[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mReset[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500 px-4 py-2.5 text-base min-h-[48px]"[39m
                [36m>[39m
                  [0mCreate Configuration[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      284 |     const editor = screen.getByTestId('monaco-editor');
      285 |     await waitFor(() => {
    > 286 |       expect(editor).toHaveValue(expect.stringContaining('"backend_type": "state"'));
          |                      ^
      287 |     });
      288 |   });
      289 |

      at src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:286:22
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   BackendConfigTab  disables save button for invalid JSON

    Expected repeat modifier or release modifier or "}" but found " " in "{invalid json}"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

      315 |     const editor = screen.getByTestId('monaco-editor');
      316 |     await userEvent.clear(editor);
    > 317 |     await userEvent.type(editor, '{invalid json}');
          |     ^
      318 |
      319 |     const saveButton = screen.getByRole('button', { name: /create configuration/i });
      320 |     await waitFor(() => {

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (src/components/agents/advanced/__tests__/BackendConfigTab.test.tsx:317:5)

FAIL src/__tests__/integration/DashboardIntegration.test.tsx (9.909 s)
   Dashboard Integration Tests  loads and displays all dashboard metrics

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      166 |     // Wait for all data to load
      167 |     await waitFor(() => {
    > 168 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      169 |     });
      170 |
      171 |     // Check that metric cards are displayed

      at src/__tests__/integration/DashboardIntegration.test.tsx:168:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  displays agent health information

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      184 |
      185 |     await waitFor(() => {
    > 186 |       expect(agentsApi.getAgents).toHaveBeenCalled();
          |                                   ^
      187 |     });
      188 |
      189 |     // Should show agent names

      at src/__tests__/integration/DashboardIntegration.test.tsx:186:35
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  shows recent activity feed

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      200 |
      201 |     await waitFor(() => {
    > 202 |       expect(executionsApi.getExecutions).toHaveBeenCalled();
          |                                           ^
      203 |     });
      204 |
      205 |     // Should show recent executions

      at src/__tests__/integration/DashboardIntegration.test.tsx:202:43
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  displays token usage statistics

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      217 |
      218 |     await waitFor(() => {
    > 219 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      220 |     });
      221 |
      222 |     // Should show token usage

      at src/__tests__/integration/DashboardIntegration.test.tsx:219:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  handles API errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      258 |
      259 |     await waitFor(() => {
    > 260 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      261 |     });
      262 |
      263 |     // Should handle errors (exact error display depends on implementation)

      at src/__tests__/integration/DashboardIntegration.test.tsx:260:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  displays execution statistics chart

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      270 |
      271 |     await waitFor(() => {
    > 272 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalled();
          |                                              ^
      273 |     });
      274 |
      275 |     // Check for chart title

      at src/__tests__/integration/DashboardIntegration.test.tsx:272:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  refreshes data when page loads

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      286 |
      287 |     await waitFor(() => {
    > 288 |       expect(monitoringApi.getSystemMetrics).toHaveBeenCalledTimes(1);
          |                                              ^
      289 |       expect(agentsApi.getAgents).toHaveBeenCalledTimes(1);
      290 |       expect(executionsApi.getExecutions).toHaveBeenCalledTimes(1);
      291 |     });

      at src/__tests__/integration/DashboardIntegration.test.tsx:288:46
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  shows empty state when no agents exist

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      306 |
      307 |     await waitFor(() => {
    > 308 |       expect(agentsApi.getAgents).toHaveBeenCalled();
          |                                   ^
      309 |     });
      310 |
      311 |     // Should show zero agents

      at src/__tests__/integration/DashboardIntegration.test.tsx:308:35
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

   Dashboard Integration Tests  shows empty state when no executions exist

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDashboard[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-600 mt-2"[39m
                [36m>[39m
                  [0mOverview of your AI agents and executions[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Agents[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m5[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m4 active[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-primary-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-shadow"[39m
                  [33mrole[39m=[32m"button"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mTotal Executions[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m120[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500 mt-1"[39m
                      [36m>[39m
                        [0m0 today[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-blue-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mSuccess Rate[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m0%[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-green-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-200 p-6 "[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex-1"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-gray-600 text-sm font-medium"[39m
                      [36m>[39m
                        [0mAvg Execution Time[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-bold mt-2 text-gray-900"[39m
                      [36m>[39m
                        [0m12.5s[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 ml-4"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"w-6 h-6 text-yellow-600"[39m
                        [33mdata-slot[39m=[32m"icon"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-width[39m=[32m"1.5"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-xl font-semibold mb-4 text-gray-900"[39m
                  [36m>[39m
                    [0mAgent Health[0m
                  [36m</h2>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg p-6 shadow text-center text-gray-500"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0mNo agent health data available[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-6"[39m
                [36m>[39m
                  [36m<h2[39m
                    [33mclass[39m=[32m"text-2xl font-semibold text-gray-900"[39m
                  [36m>[39m
                    [0mAdvanced Analytics[0m
                  [36m</h2>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                  [36m>[39m
                    [0mView Full Analytics[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-col gap-3"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                        [33mfor[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [0mDate Range[0m
                      [36m</label>[39m
                      [36m<select[39m
                        [33mclass[39m=[32m"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus-visible:outline-none focus-visible:ring-blue-500 focus-visible:border-blue-500 text-gray-900"[39m
                        [33mid[39m=[32m"date-range-select"[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last7days"[39m
                        [36m>[39m
                          [0mLast 7 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last30days"[39m
                        [36m>[39m
                          [0mLast 30 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"last90days"[39m
                        [36m>[39m
                          [0mLast 90 days[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"thisMonth"[39m
                        [36m>[39m
                          [0mThis month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"lastMonth"[39m
                        [36m>[39m
                          [0mLast month[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"custom"[39m
                        [36m>[39m
                          [0mCustom range[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mExecution Trends[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading chart data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-4 text-gray-900"[39m
                    [36m>[39m
                      [0mTop Agents[0m
                    [36m</h3>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"h-64 flex items-center justify-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-red-500"[39m
                      [36m>[39m
                        [0mError loading agent data: [0m
                        [0mCannot read properties of undefined (reading 'data')[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      324 |
      325 |     await waitFor(() => {
    > 326 |       expect(executionsApi.getExecutions).toHaveBeenCalled();
          |                                           ^
      327 |     });
      328 |
      329 |     // Recent activity should indicate no executions

      at src/__tests__/integration/DashboardIntegration.test.tsx:326:43
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)


Test Suites: 11 failed, 1 skipped, 32 passed, 43 of 44 total
Tests:       36 failed, 1 skipped, 434 passed, 471 total
Snapshots:   0 total
Time:        10.433 s
Ran all test suites.
